{
    "pipes": [],
    "interfaces": [
        {
            "name": "DailyForecast",
            "id": "interface-DailyForecast-763c6677a615cacbaa8bc14020d25211732be7d3b6609b91a4285a68b7b77e59113c931a823144a98a33c3a72698360bc29414b13920c79aa98acc8c2b65013c",
            "file": "src/stories/weather-widget/models/weather.model.ts",
            "deprecated": false,
            "deprecationMessage": "",
            "type": "interface",
            "sourceCode": "export interface OpenWeatherMapResponse {\n  coord: {\n    lon: number;\n    lat: number;\n  };\n  weather: Array<{\n    id: number;\n    main: string;\n    description: string;\n    icon: string;\n  }>;\n  base: string;\n  main: {\n    temp: number;\n    feels_like: number;\n    temp_min: number;\n    temp_max: number;\n    pressure: number;\n    humidity: number;\n    sea_level?: number;\n    grnd_level?: number;\n  };\n  visibility: number;\n  wind: {\n    speed: number;\n    deg: number;\n    gust?: number;\n  };\n  clouds: {\n    all: number;\n  };\n  dt: number;\n  sys: {\n    type?: number;\n    id?: number;\n    country: string;\n    sunrise: number;\n    sunset: number;\n  };\n  timezone: number;\n  id: number;\n  name: string;\n  cod: number;\n}\n\n// Transformed Weather Response (for component use)\nexport interface WeatherResponse {\n  location: string;\n  temperature: number;\n  condition: string;\n  description: string;\n  humidity: number;\n  windSpeed: number;\n  icon: string;\n  feelsLike: number;\n  pressure: number;\n  visibility: number;\n  sunrise: number;\n  sunset: number;\n  forecast?: DailyForecast[];\n}\n\nexport interface DailyForecast {\n  date: string;\n  tempMax: number;\n  tempMin: number;\n  condition: string;\n  icon: string;\n  humidity: number;\n}\n\nexport type IconType = 'emoji' | 'image';\n\nexport interface WeatherIconConfig {\n  type: IconType;\n  basePath?: string; // Base path for image icons (e.g., '/assets/weather-icons/')\n}\n",
            "properties": [
                {
                    "name": "condition",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "type": "string",
                    "indexKey": "",
                    "optional": false,
                    "description": "",
                    "line": 68
                },
                {
                    "name": "date",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "type": "string",
                    "indexKey": "",
                    "optional": false,
                    "description": "",
                    "line": 65
                },
                {
                    "name": "humidity",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "type": "number",
                    "indexKey": "",
                    "optional": false,
                    "description": "",
                    "line": 70
                },
                {
                    "name": "icon",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "type": "string",
                    "indexKey": "",
                    "optional": false,
                    "description": "",
                    "line": 69
                },
                {
                    "name": "tempMax",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "type": "number",
                    "indexKey": "",
                    "optional": false,
                    "description": "",
                    "line": 66
                },
                {
                    "name": "tempMin",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "type": "number",
                    "indexKey": "",
                    "optional": false,
                    "description": "",
                    "line": 67
                }
            ],
            "indexSignatures": [],
            "kind": 172,
            "methods": [],
            "extends": []
        },
        {
            "name": "OpenWeatherMapResponse",
            "id": "interface-OpenWeatherMapResponse-763c6677a615cacbaa8bc14020d25211732be7d3b6609b91a4285a68b7b77e59113c931a823144a98a33c3a72698360bc29414b13920c79aa98acc8c2b65013c",
            "file": "src/stories/weather-widget/models/weather.model.ts",
            "deprecated": false,
            "deprecationMessage": "",
            "type": "interface",
            "sourceCode": "export interface OpenWeatherMapResponse {\n  coord: {\n    lon: number;\n    lat: number;\n  };\n  weather: Array<{\n    id: number;\n    main: string;\n    description: string;\n    icon: string;\n  }>;\n  base: string;\n  main: {\n    temp: number;\n    feels_like: number;\n    temp_min: number;\n    temp_max: number;\n    pressure: number;\n    humidity: number;\n    sea_level?: number;\n    grnd_level?: number;\n  };\n  visibility: number;\n  wind: {\n    speed: number;\n    deg: number;\n    gust?: number;\n  };\n  clouds: {\n    all: number;\n  };\n  dt: number;\n  sys: {\n    type?: number;\n    id?: number;\n    country: string;\n    sunrise: number;\n    sunset: number;\n  };\n  timezone: number;\n  id: number;\n  name: string;\n  cod: number;\n}\n\n// Transformed Weather Response (for component use)\nexport interface WeatherResponse {\n  location: string;\n  temperature: number;\n  condition: string;\n  description: string;\n  humidity: number;\n  windSpeed: number;\n  icon: string;\n  feelsLike: number;\n  pressure: number;\n  visibility: number;\n  sunrise: number;\n  sunset: number;\n  forecast?: DailyForecast[];\n}\n\nexport interface DailyForecast {\n  date: string;\n  tempMax: number;\n  tempMin: number;\n  condition: string;\n  icon: string;\n  humidity: number;\n}\n\nexport type IconType = 'emoji' | 'image';\n\nexport interface WeatherIconConfig {\n  type: IconType;\n  basePath?: string; // Base path for image icons (e.g., '/assets/weather-icons/')\n}\n",
            "properties": [
                {
                    "name": "base",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "type": "string",
                    "indexKey": "",
                    "optional": false,
                    "description": "",
                    "line": 13
                },
                {
                    "name": "clouds",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "type": "literal type",
                    "indexKey": "",
                    "optional": false,
                    "description": "",
                    "line": 30
                },
                {
                    "name": "cod",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "type": "number",
                    "indexKey": "",
                    "optional": false,
                    "description": "",
                    "line": 44
                },
                {
                    "name": "coord",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "type": "literal type",
                    "indexKey": "",
                    "optional": false,
                    "description": "",
                    "line": 3
                },
                {
                    "name": "dt",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "type": "number",
                    "indexKey": "",
                    "optional": false,
                    "description": "",
                    "line": 33
                },
                {
                    "name": "id",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "type": "number",
                    "indexKey": "",
                    "optional": false,
                    "description": "",
                    "line": 42
                },
                {
                    "name": "main",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "type": "literal type",
                    "indexKey": "",
                    "optional": false,
                    "description": "",
                    "line": 14
                },
                {
                    "name": "name",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "type": "string",
                    "indexKey": "",
                    "optional": false,
                    "description": "",
                    "line": 43
                },
                {
                    "name": "sys",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "type": "literal type",
                    "indexKey": "",
                    "optional": false,
                    "description": "",
                    "line": 34
                },
                {
                    "name": "timezone",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "type": "number",
                    "indexKey": "",
                    "optional": false,
                    "description": "",
                    "line": 41
                },
                {
                    "name": "visibility",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "type": "number",
                    "indexKey": "",
                    "optional": false,
                    "description": "",
                    "line": 24
                },
                {
                    "name": "weather",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "type": "Array<literal type>",
                    "indexKey": "",
                    "optional": false,
                    "description": "",
                    "line": 7
                },
                {
                    "name": "wind",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "type": "literal type",
                    "indexKey": "",
                    "optional": false,
                    "description": "",
                    "line": 25
                }
            ],
            "indexSignatures": [],
            "kind": 172,
            "methods": [],
            "extends": []
        },
        {
            "name": "WeatherData",
            "id": "interface-WeatherData-a76a5c61d2c9a023ef1e3faeb7d54392637c6e4bc273ab0180f18df330945782e340ed6168e4af7e0aec142e09b79055b1da93e1f36b5a687d69c8c9b1ea1db2",
            "file": "src/stories/weather-widget/weather-widget.component.ts",
            "deprecated": false,
            "deprecationMessage": "",
            "type": "interface",
            "sourceCode": "import { CommonModule } from '@angular/common';\nimport { Component, Input, OnInit, inject } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { WeatherService } from './weather.service';\nimport { WeatherResponse, IconType } from './models/weather.model';\n\nexport interface WeatherData {\n  location: string;\n  temperature: number;\n  condition: string;\n  humidity: number;\n  windSpeed: number;\n  icon: string;\n}\n\n@Component({\n  selector: 'weather-widget',\n  standalone: true,\n  imports: [CommonModule, FormsModule],\n  providers: [WeatherService],\n  template: `\n    <main class=\"weather-widget\" [ngClass]=\"themeClass\" role=\"application\" aria-label=\"Weather widget\">\n      <!-- Search Bar -->\n      <div class=\"weather-search\" *ngIf=\"enableSearch\" role=\"search\">\n        <label for=\"city-search\" class=\"visually-hidden\">Search for a city</label>\n        <input\n          id=\"city-search\"\n          type=\"text\"\n          [(ngModel)]=\"searchCity\"\n          (keyup.enter)=\"searchWeather()\"\n          placeholder=\"Enter city name...\"\n          class=\"search-input\"\n          aria-label=\"City name\"\n          aria-describedby=\"search-help\"\n        />\n        <span id=\"search-help\" class=\"visually-hidden\">Press enter or click search button to get weather</span>\n        <button\n          (click)=\"searchWeather()\"\n          class=\"search-button\"\n          aria-label=\"Search weather\"\n          type=\"button\">\n          <span aria-hidden=\"true\">üîç</span>\n          <span class=\"button-text\">Search</span>\n        </button>\n        <button\n          (click)=\"getCurrentLocationWeather()\"\n          class=\"location-button\"\n          aria-label=\"Use my current location\"\n          type=\"button\">\n          <span aria-hidden=\"true\">üìç</span>\n          <span class=\"button-text\">Location</span>\n        </button>\n      </div>\n\n      <!-- Loading State -->\n      <div *ngIf=\"loading\" class=\"weather-loading\" role=\"status\" aria-live=\"polite\" aria-busy=\"true\">\n        <div class=\"spinner\" aria-hidden=\"true\"></div>\n        <p>Loading weather data...</p>\n      </div>\n\n      <!-- Error State -->\n      <div *ngIf=\"error && !loading\" class=\"weather-error\" role=\"alert\" aria-live=\"assertive\">\n        <span class=\"error-icon\" aria-hidden=\"true\">‚ö†Ô∏è</span>\n        <p>{{ error }}</p>\n        <button (click)=\"retry()\" class=\"retry-button\" type=\"button\" aria-label=\"Try loading weather again\">\n          Try Again\n        </button>\n      </div>\n\n      <!-- Weather Content -->\n      <div *ngIf=\"!loading && !error\" class=\"weather-content\" role=\"region\" aria-live=\"polite\" aria-label=\"Current weather information\">\n        <header class=\"weather-header\">\n          <h2 class=\"location\" id=\"location-heading\">{{ weatherData.location }}</h2>\n          <time class=\"date\" [attr.datetime]=\"currentDateISO\">{{ currentDate }}</time>\n        </header>\n\n        <div class=\"weather-main\" aria-labelledby=\"location-heading\">\n          <div class=\"weather-icon\" aria-hidden=\"true\">\n            <span *ngIf=\"iconType === 'emoji'\">{{ weatherData.icon }}</span>\n            <img *ngIf=\"iconType === 'image'\" [src]=\"weatherData.icon\" [alt]=\"weatherData.condition + ' weather icon'\" class=\"weather-icon-img\" />\n          </div>\n          <div class=\"temperature\" aria-label=\"Temperature: {{ weatherData.temperature }} degrees {{ unit === 'C' ? 'Celsius' : 'Fahrenheit' }}\">\n            {{ weatherData.temperature }}¬∞{{ unit }}\n          </div>\n        </div>\n\n        <div class=\"weather-condition\" role=\"text\" aria-label=\"Current condition\">{{ weatherData.condition }}</div>\n\n        <div class=\"weather-details\" role=\"list\" aria-label=\"Weather details\">\n          <div class=\"detail-item\" role=\"listitem\">\n            <span class=\"detail-label\" id=\"humidity-label\">Humidity</span>\n            <span class=\"detail-value\" aria-labelledby=\"humidity-label\" aria-label=\"Humidity {{ weatherData.humidity }} percent\">\n              {{ weatherData.humidity }}%\n            </span>\n          </div>\n          <div class=\"detail-item\" role=\"listitem\">\n            <span class=\"detail-label\" id=\"wind-label\">Wind Speed</span>\n            <span class=\"detail-value\" aria-labelledby=\"wind-label\" aria-label=\"Wind speed {{ weatherData.windSpeed }} {{ windUnit }}\">\n              {{ weatherData.windSpeed }} {{ windUnit }}\n            </span>\n          </div>\n        </div>\n\n        <!-- Last Updated -->\n        <div *ngIf=\"lastUpdated\" class=\"last-updated\" aria-live=\"polite\">\n          <small>Last updated: <time [attr.datetime]=\"lastUpdatedISO\">{{ lastUpdated }}</time></small>\n        </div>\n\n        <!-- Refresh Button -->\n        <button\n          *ngIf=\"enableSearch\"\n          (click)=\"refreshWeather()\"\n          class=\"refresh-button\"\n          type=\"button\"\n          aria-label=\"Refresh weather data\">\n          <span aria-hidden=\"true\">üîÑ</span>\n          <span class=\"button-text\">Refresh</span>\n        </button>\n      </div>\n    </main>\n  `,\n  styleUrls: ['./weather-widget.css'],\n})\nexport class WeatherWidgetComponent implements OnInit {\n  private readonly weatherService = inject(WeatherService);\n\n  /** Enable search functionality */\n  @Input()\n  enableSearch: boolean = false;\n\n  /** Initial city to load */\n  @Input()\n  initialCity: string = 'The Hague';\n\n  /** Use real API data (if false, uses mock data) */\n  @Input()\n  useRealData: boolean = false;\n\n  /** Weather data to display */\n  @Input()\n  weatherData: WeatherData = {\n    location: 'The Hague',\n    temperature: 5,\n    condition: 'Partly Cloudy',\n    humidity: 65,\n    windSpeed: 12,\n    icon: '‚õÖ',\n  };\n\n  /** Temperature unit (C or F) */\n  @Input()\n  unit: 'C' | 'F' = 'F';\n\n  /** Wind speed unit */\n  @Input()\n  windUnit: 'mph' | 'km/h' = 'km/h';\n\n  /** Theme of the widget */\n  @Input()\n  theme: 'light' | 'dark' | 'gradient' | 'high-contrast' = 'light';\n\n  /** Widget size */\n  @Input()\n  size: 'small' | 'medium' | 'large' = 'medium';\n\n  /** Icon type - emoji or image */\n  @Input()\n  iconType: IconType = 'emoji';\n\n  /** Base path for icon images (only used when iconType is 'image') */\n  @Input()\n  iconBasePath: string = 'assets/';\n\n  currentDate: string = '';\n  currentDateISO: string = '';\n  searchCity: string = '';\n  loading: boolean = false;\n  error: string = '';\n  lastSearchedCity: string = '';\n  lastUpdated: string = '';\n  lastUpdatedISO: string = '';\n\n  ngOnInit() {\n    this.updateCurrentDate();\n    this.searchCity = this.initialCity;\n    this.lastSearchedCity = this.initialCity;\n\n    // Configure icon type in service\n    this.weatherService.setIconType(this.iconType, this.iconBasePath);\n\n    // Load initial city weather if real API is enabled\n    if (this.useRealData) {\n      this.loadWeather(this.initialCity);\n    }\n  }\n\n  /**\n   * Search weather by city name\n   */\n  searchWeather(): void {\n    if (!this.searchCity.trim()) {\n      this.error = 'Please enter a city name';\n      return;\n    }\n    this.loadWeather(this.searchCity.trim());\n  }\n\n  /**\n   * Get weather for current location using geolocation\n   */\n  async getCurrentLocationWeather(): Promise<void> {\n    this.loading = true;\n    this.error = '';\n\n    try {\n      const coords = await this.weatherService.getCurrentPosition();\n      const units = this.unit === 'C' ? 'metric' : 'imperial';\n\n      this.weatherService.getWeatherByCoordinates(coords.latitude, coords.longitude, units)\n        .subscribe({\n          next: (data) => this.handleWeatherData(data),\n          error: (err) => this.handleError(err)\n        });\n    } catch (err) {\n      this.loading = false;\n      this.error = err instanceof Error ? err.message : 'Unable to get your location';\n    }\n  }\n\n  /**\n   * Refresh current weather data\n   */\n  refreshWeather(): void {\n    if (this.lastSearchedCity) {\n      this.loadWeather(this.lastSearchedCity);\n    }\n  }\n\n  /**\n   * Retry after error\n   */\n  retry(): void {\n    if (this.lastSearchedCity) {\n      this.loadWeather(this.lastSearchedCity);\n    } else {\n      this.error = '';\n    }\n  }\n\n  /**\n   * Load weather data from API\n   */\n  private loadWeather(city: string) {\n    this.loading = true;\n    this.error = '';\n    this.lastSearchedCity = city;\n\n    const units = this.unit === 'C' ? 'metric' : 'imperial';\n\n    this.weatherService.getWeatherByCity(city, units).subscribe({\n      next: (data) => {\n        console.log('Weather data received:', data);\n        this.handleWeatherData(data);\n      },\n      error: (err) => {\n        console.error('Weather service error:', err);\n        this.handleError(err);\n      },\n      complete: () => {\n        console.log('Weather request completed');\n      }\n    });\n  }\n\n  /**\n   * Handle successful weather data response\n   */\n  private handleWeatherData(data: WeatherResponse) {\n    this.weatherData = {\n      location: data.location,\n      temperature: data.temperature,\n      condition: data.condition,\n      humidity: data.humidity,\n      windSpeed: data.windSpeed,\n      icon: data.icon\n    };\n    this.loading = false;\n    this.error = '';\n    this.updateLastUpdatedTime();\n  }\n\n  /**\n   * Handle API errors\n   */\n  private handleError(err: any) {\n    this.loading = false;\n\n    // Log the full error for debugging\n    console.error('Full error object:', err);\n\n    // Provide specific error messages based on error type\n    if (err.status === 404) {\n      this.error = `City \"${this.lastSearchedCity}\" not found. Please check the spelling and try again.`;\n    } else if (err.status === 401 || err.status === 403) {\n      this.error = 'API authentication failed. Please check your API key configuration.';\n    } else if (err.status === 429) {\n      this.error = 'Too many requests. Please wait a moment and try again.';\n    } else if (err.status >= 500) {\n      this.error = 'Weather service is currently unavailable. Please try again later.';\n    } else if (err.status === 0) {\n      this.error = 'Network error. Please check your internet connection.';\n    } else if (err.message) {\n      this.error = err.message;\n    } else if (err.error?.message) {\n      this.error = err.error.message;\n    } else {\n      this.error = 'Failed to load weather data. Please try again.';\n    }\n\n    console.error('Weather widget error:', this.error);\n  }\n\n  /**\n   * Update current date display\n   */\n  private updateCurrentDate() {\n    const now = new Date();\n    this.currentDate = now.toLocaleDateString('en-US', {\n      weekday: 'long',\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric',\n    });\n    this.currentDateISO = now.toISOString().split('T')[0];\n  }\n\n  /**\n   * Update last updated time display\n   */\n  private updateLastUpdatedTime() {\n    const now = new Date();\n    this.lastUpdated = now.toLocaleTimeString('en-US', {\n      hour: '2-digit',\n      minute: '2-digit',\n    });\n    this.lastUpdatedISO = now.toISOString();\n  }\n\n  get themeClass(): string {\n    return `weather-widget--${this.theme} weather-widget--${this.size}`;\n  }\n}\n",
            "properties": [
                {
                    "name": "condition",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "type": "string",
                    "indexKey": "",
                    "optional": false,
                    "description": "",
                    "line": 10
                },
                {
                    "name": "humidity",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "type": "number",
                    "indexKey": "",
                    "optional": false,
                    "description": "",
                    "line": 11
                },
                {
                    "name": "icon",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "type": "string",
                    "indexKey": "",
                    "optional": false,
                    "description": "",
                    "line": 13
                },
                {
                    "name": "location",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "type": "string",
                    "indexKey": "",
                    "optional": false,
                    "description": "",
                    "line": 8
                },
                {
                    "name": "temperature",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "type": "number",
                    "indexKey": "",
                    "optional": false,
                    "description": "",
                    "line": 9
                },
                {
                    "name": "windSpeed",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "type": "number",
                    "indexKey": "",
                    "optional": false,
                    "description": "",
                    "line": 12
                }
            ],
            "indexSignatures": [],
            "kind": 172,
            "methods": [],
            "extends": []
        },
        {
            "name": "WeatherIconConfig",
            "id": "interface-WeatherIconConfig-763c6677a615cacbaa8bc14020d25211732be7d3b6609b91a4285a68b7b77e59113c931a823144a98a33c3a72698360bc29414b13920c79aa98acc8c2b65013c",
            "file": "src/stories/weather-widget/models/weather.model.ts",
            "deprecated": false,
            "deprecationMessage": "",
            "type": "interface",
            "sourceCode": "export interface OpenWeatherMapResponse {\n  coord: {\n    lon: number;\n    lat: number;\n  };\n  weather: Array<{\n    id: number;\n    main: string;\n    description: string;\n    icon: string;\n  }>;\n  base: string;\n  main: {\n    temp: number;\n    feels_like: number;\n    temp_min: number;\n    temp_max: number;\n    pressure: number;\n    humidity: number;\n    sea_level?: number;\n    grnd_level?: number;\n  };\n  visibility: number;\n  wind: {\n    speed: number;\n    deg: number;\n    gust?: number;\n  };\n  clouds: {\n    all: number;\n  };\n  dt: number;\n  sys: {\n    type?: number;\n    id?: number;\n    country: string;\n    sunrise: number;\n    sunset: number;\n  };\n  timezone: number;\n  id: number;\n  name: string;\n  cod: number;\n}\n\n// Transformed Weather Response (for component use)\nexport interface WeatherResponse {\n  location: string;\n  temperature: number;\n  condition: string;\n  description: string;\n  humidity: number;\n  windSpeed: number;\n  icon: string;\n  feelsLike: number;\n  pressure: number;\n  visibility: number;\n  sunrise: number;\n  sunset: number;\n  forecast?: DailyForecast[];\n}\n\nexport interface DailyForecast {\n  date: string;\n  tempMax: number;\n  tempMin: number;\n  condition: string;\n  icon: string;\n  humidity: number;\n}\n\nexport type IconType = 'emoji' | 'image';\n\nexport interface WeatherIconConfig {\n  type: IconType;\n  basePath?: string; // Base path for image icons (e.g., '/assets/weather-icons/')\n}\n",
            "properties": [
                {
                    "name": "basePath",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "type": "string",
                    "indexKey": "",
                    "optional": true,
                    "description": "",
                    "line": 77
                },
                {
                    "name": "type",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "type": "IconType",
                    "indexKey": "",
                    "optional": false,
                    "description": "",
                    "line": 76
                }
            ],
            "indexSignatures": [],
            "kind": 172,
            "methods": [],
            "extends": []
        },
        {
            "name": "WeatherResponse",
            "id": "interface-WeatherResponse-763c6677a615cacbaa8bc14020d25211732be7d3b6609b91a4285a68b7b77e59113c931a823144a98a33c3a72698360bc29414b13920c79aa98acc8c2b65013c",
            "file": "src/stories/weather-widget/models/weather.model.ts",
            "deprecated": false,
            "deprecationMessage": "",
            "type": "interface",
            "sourceCode": "export interface OpenWeatherMapResponse {\n  coord: {\n    lon: number;\n    lat: number;\n  };\n  weather: Array<{\n    id: number;\n    main: string;\n    description: string;\n    icon: string;\n  }>;\n  base: string;\n  main: {\n    temp: number;\n    feels_like: number;\n    temp_min: number;\n    temp_max: number;\n    pressure: number;\n    humidity: number;\n    sea_level?: number;\n    grnd_level?: number;\n  };\n  visibility: number;\n  wind: {\n    speed: number;\n    deg: number;\n    gust?: number;\n  };\n  clouds: {\n    all: number;\n  };\n  dt: number;\n  sys: {\n    type?: number;\n    id?: number;\n    country: string;\n    sunrise: number;\n    sunset: number;\n  };\n  timezone: number;\n  id: number;\n  name: string;\n  cod: number;\n}\n\n// Transformed Weather Response (for component use)\nexport interface WeatherResponse {\n  location: string;\n  temperature: number;\n  condition: string;\n  description: string;\n  humidity: number;\n  windSpeed: number;\n  icon: string;\n  feelsLike: number;\n  pressure: number;\n  visibility: number;\n  sunrise: number;\n  sunset: number;\n  forecast?: DailyForecast[];\n}\n\nexport interface DailyForecast {\n  date: string;\n  tempMax: number;\n  tempMin: number;\n  condition: string;\n  icon: string;\n  humidity: number;\n}\n\nexport type IconType = 'emoji' | 'image';\n\nexport interface WeatherIconConfig {\n  type: IconType;\n  basePath?: string; // Base path for image icons (e.g., '/assets/weather-icons/')\n}\n",
            "properties": [
                {
                    "name": "condition",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "type": "string",
                    "indexKey": "",
                    "optional": false,
                    "description": "",
                    "line": 51
                },
                {
                    "name": "description",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "type": "string",
                    "indexKey": "",
                    "optional": false,
                    "description": "",
                    "line": 52
                },
                {
                    "name": "feelsLike",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "type": "number",
                    "indexKey": "",
                    "optional": false,
                    "description": "",
                    "line": 56
                },
                {
                    "name": "forecast",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "type": "DailyForecast[]",
                    "indexKey": "",
                    "optional": true,
                    "description": "",
                    "line": 61
                },
                {
                    "name": "humidity",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "type": "number",
                    "indexKey": "",
                    "optional": false,
                    "description": "",
                    "line": 53
                },
                {
                    "name": "icon",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "type": "string",
                    "indexKey": "",
                    "optional": false,
                    "description": "",
                    "line": 55
                },
                {
                    "name": "location",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "type": "string",
                    "indexKey": "",
                    "optional": false,
                    "description": "",
                    "line": 49
                },
                {
                    "name": "pressure",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "type": "number",
                    "indexKey": "",
                    "optional": false,
                    "description": "",
                    "line": 57
                },
                {
                    "name": "sunrise",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "type": "number",
                    "indexKey": "",
                    "optional": false,
                    "description": "",
                    "line": 59
                },
                {
                    "name": "sunset",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "type": "number",
                    "indexKey": "",
                    "optional": false,
                    "description": "",
                    "line": 60
                },
                {
                    "name": "temperature",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "type": "number",
                    "indexKey": "",
                    "optional": false,
                    "description": "",
                    "line": 50
                },
                {
                    "name": "visibility",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "type": "number",
                    "indexKey": "",
                    "optional": false,
                    "description": "",
                    "line": 58
                },
                {
                    "name": "windSpeed",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "type": "number",
                    "indexKey": "",
                    "optional": false,
                    "description": "",
                    "line": 54
                }
            ],
            "indexSignatures": [],
            "kind": 172,
            "methods": [],
            "extends": []
        }
    ],
    "injectables": [
        {
            "name": "WeatherService",
            "id": "injectable-WeatherService-5e772d8b206f49f707c7d63ca2719c76c51963051316caa57ec525292d7cde131fb17c98482a4b25905573e41445886548bd9031ec4965d9b9663ba44b082a32",
            "file": "src/stories/weather-widget/weather.service.ts",
            "properties": [
                {
                    "name": "apiKey",
                    "defaultValue": "environment.weatherApi?.key?.trim() ?? ''",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "type": "unknown",
                    "indexKey": "",
                    "optional": false,
                    "description": "",
                    "line": 30,
                    "modifierKind": [
                        123,
                        148
                    ]
                },
                {
                    "name": "ATMOSPHERE_MAX",
                    "defaultValue": "800",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "type": "number",
                    "indexKey": "",
                    "optional": false,
                    "description": "",
                    "line": 22,
                    "modifierKind": [
                        123,
                        148
                    ]
                },
                {
                    "name": "ATMOSPHERE_MIN",
                    "defaultValue": "700",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "type": "number",
                    "indexKey": "",
                    "optional": false,
                    "description": "",
                    "line": 21,
                    "modifierKind": [
                        123,
                        148
                    ]
                },
                {
                    "name": "CLEAR_SKY",
                    "defaultValue": "800",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "type": "number",
                    "indexKey": "",
                    "optional": false,
                    "description": "",
                    "line": 23,
                    "modifierKind": [
                        123,
                        148
                    ]
                },
                {
                    "name": "configuredBaseUrl",
                    "defaultValue": "environment.weatherApi?.baseUrl?.trim() ?? this.DEFAULT_BASE_URL",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "type": "unknown",
                    "indexKey": "",
                    "optional": false,
                    "description": "",
                    "line": 33,
                    "modifierKind": [
                        123,
                        148
                    ]
                },
                {
                    "name": "corsProxy",
                    "defaultValue": "environment.corsProxy?.trim() ?? ''",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "type": "unknown",
                    "indexKey": "",
                    "optional": false,
                    "description": "",
                    "line": 32,
                    "modifierKind": [
                        123,
                        148
                    ]
                },
                {
                    "name": "DEFAULT_BASE_URL",
                    "defaultValue": "'https://api.openweathermap.org/data/2.5'",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "type": "string",
                    "indexKey": "",
                    "optional": false,
                    "description": "",
                    "line": 28,
                    "modifierKind": [
                        123,
                        148
                    ]
                },
                {
                    "name": "DRIZZLE_MAX",
                    "defaultValue": "400",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "type": "number",
                    "indexKey": "",
                    "optional": false,
                    "description": "",
                    "line": 16,
                    "modifierKind": [
                        123,
                        148
                    ]
                },
                {
                    "name": "DRIZZLE_MIN",
                    "defaultValue": "300",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "type": "number",
                    "indexKey": "",
                    "optional": false,
                    "description": "",
                    "line": 15,
                    "modifierKind": [
                        123,
                        148
                    ]
                },
                {
                    "name": "FEW_CLOUDS",
                    "defaultValue": "801",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "type": "number",
                    "indexKey": "",
                    "optional": false,
                    "description": "",
                    "line": 24,
                    "modifierKind": [
                        123,
                        148
                    ]
                },
                {
                    "name": "handleError",
                    "defaultValue": "() => {...}",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "type": "unknown",
                    "indexKey": "",
                    "optional": false,
                    "description": "<p>Handle HTTP errors</p>\n",
                    "line": 306,
                    "rawdescription": "\n\nHandle HTTP errors\n",
                    "modifierKind": [
                        123
                    ]
                },
                {
                    "name": "iconBasePath",
                    "defaultValue": "'assets/'",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "type": "string",
                    "indexKey": "",
                    "optional": false,
                    "description": "",
                    "line": 37,
                    "modifierKind": [
                        123
                    ]
                },
                {
                    "name": "iconType",
                    "defaultValue": "'emoji'",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "type": "IconType",
                    "indexKey": "",
                    "optional": false,
                    "description": "",
                    "line": 36,
                    "modifierKind": [
                        123
                    ]
                },
                {
                    "name": "PROXY_BASE_URL",
                    "defaultValue": "'/api/data/2.5'",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "type": "string",
                    "indexKey": "",
                    "optional": false,
                    "description": "",
                    "line": 27,
                    "modifierKind": [
                        123,
                        148
                    ]
                },
                {
                    "name": "RAIN_MAX",
                    "defaultValue": "600",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "type": "number",
                    "indexKey": "",
                    "optional": false,
                    "description": "",
                    "line": 18,
                    "modifierKind": [
                        123,
                        148
                    ]
                },
                {
                    "name": "RAIN_MIN",
                    "defaultValue": "500",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "type": "number",
                    "indexKey": "",
                    "optional": false,
                    "description": "",
                    "line": 17,
                    "modifierKind": [
                        123,
                        148
                    ]
                },
                {
                    "name": "SNOW_MAX",
                    "defaultValue": "700",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "type": "number",
                    "indexKey": "",
                    "optional": false,
                    "description": "",
                    "line": 20,
                    "modifierKind": [
                        123,
                        148
                    ]
                },
                {
                    "name": "SNOW_MIN",
                    "defaultValue": "600",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "type": "number",
                    "indexKey": "",
                    "optional": false,
                    "description": "",
                    "line": 19,
                    "modifierKind": [
                        123,
                        148
                    ]
                },
                {
                    "name": "THUNDERSTORM_MAX",
                    "defaultValue": "300",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "type": "number",
                    "indexKey": "",
                    "optional": false,
                    "description": "",
                    "line": 14,
                    "modifierKind": [
                        123,
                        148
                    ]
                },
                {
                    "name": "THUNDERSTORM_MIN",
                    "defaultValue": "200",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "type": "number",
                    "indexKey": "",
                    "optional": false,
                    "description": "",
                    "line": 13,
                    "modifierKind": [
                        123,
                        148
                    ]
                },
                {
                    "name": "useProxy",
                    "defaultValue": "environment.useProxy === true",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "type": "unknown",
                    "indexKey": "",
                    "optional": false,
                    "description": "",
                    "line": 31,
                    "modifierKind": [
                        123,
                        148
                    ]
                }
            ],
            "methods": [
                {
                    "name": "buildApiUrl",
                    "args": [
                        {
                            "name": "endpoint",
                            "type": "string",
                            "deprecated": false,
                            "deprecationMessage": ""
                        },
                        {
                            "name": "params",
                            "type": "Record<string | string | number>",
                            "deprecated": false,
                            "deprecationMessage": ""
                        }
                    ],
                    "optional": false,
                    "returnType": "string",
                    "typeParameters": [],
                    "line": 327,
                    "deprecated": false,
                    "deprecationMessage": "",
                    "rawdescription": "\n\nBuild the API URL depending on proxy/cors configuration\n",
                    "description": "<p>Build the API URL depending on proxy/cors configuration</p>\n",
                    "modifierKind": [
                        123
                    ],
                    "jsdoctags": [
                        {
                            "name": "endpoint",
                            "type": "string",
                            "deprecated": false,
                            "deprecationMessage": "",
                            "tagName": {
                                "text": "param"
                            }
                        },
                        {
                            "name": "params",
                            "type": "Record<string | string | number>",
                            "deprecated": false,
                            "deprecationMessage": "",
                            "tagName": {
                                "text": "param"
                            }
                        }
                    ]
                },
                {
                    "name": "getCurrentPosition",
                    "args": [],
                    "optional": false,
                    "returnType": "Promise<GeolocationCoordinates>",
                    "typeParameters": [],
                    "line": 120,
                    "deprecated": false,
                    "deprecationMessage": "",
                    "rawdescription": "\n\nGet current position using browser geolocation\n",
                    "description": "<p>Get current position using browser geolocation</p>\n"
                },
                {
                    "name": "getEmojiIcon",
                    "args": [
                        {
                            "name": "weatherId",
                            "type": "number",
                            "deprecated": false,
                            "deprecationMessage": ""
                        },
                        {
                            "name": "iconCode",
                            "type": "string",
                            "deprecated": false,
                            "deprecationMessage": ""
                        }
                    ],
                    "optional": false,
                    "returnType": "string",
                    "typeParameters": [],
                    "line": 216,
                    "deprecated": false,
                    "deprecationMessage": "",
                    "rawdescription": "\n\nGet emoji icon based on weather condition\n",
                    "description": "<p>Get emoji icon based on weather condition</p>\n",
                    "modifierKind": [
                        123
                    ],
                    "jsdoctags": [
                        {
                            "name": "weatherId",
                            "type": "number",
                            "deprecated": false,
                            "deprecationMessage": "",
                            "tagName": {
                                "text": "param"
                            }
                        },
                        {
                            "name": "iconCode",
                            "type": "string",
                            "deprecated": false,
                            "deprecationMessage": "",
                            "tagName": {
                                "text": "param"
                            }
                        }
                    ]
                },
                {
                    "name": "getForecast",
                    "args": [
                        {
                            "name": "city",
                            "type": "string",
                            "deprecated": false,
                            "deprecationMessage": ""
                        },
                        {
                            "name": "units",
                            "type": "\"metric\" | \"imperial\"",
                            "deprecated": false,
                            "deprecationMessage": "",
                            "defaultValue": "'imperial'"
                        }
                    ],
                    "optional": false,
                    "returnType": "Observable<DailyForecast[]>",
                    "typeParameters": [],
                    "line": 100,
                    "deprecated": false,
                    "deprecationMessage": "",
                    "rawdescription": "\n\nGet 5-day weather forecast\n",
                    "description": "<p>Get 5-day weather forecast</p>\n",
                    "jsdoctags": [
                        {
                            "name": "city",
                            "type": "string",
                            "deprecated": false,
                            "deprecationMessage": "",
                            "tagName": {
                                "text": "param"
                            }
                        },
                        {
                            "name": "units",
                            "type": "\"metric\" | \"imperial\"",
                            "deprecated": false,
                            "deprecationMessage": "",
                            "defaultValue": "'imperial'",
                            "tagName": {
                                "text": "param"
                            }
                        }
                    ]
                },
                {
                    "name": "getIconType",
                    "args": [],
                    "optional": false,
                    "returnType": "IconType",
                    "typeParameters": [],
                    "line": 52,
                    "deprecated": false,
                    "deprecationMessage": "",
                    "rawdescription": "\n\nGet current icon type\n",
                    "description": "<p>Get current icon type</p>\n"
                },
                {
                    "name": "getImageIcon",
                    "args": [
                        {
                            "name": "weatherId",
                            "type": "number",
                            "deprecated": false,
                            "deprecationMessage": ""
                        },
                        {
                            "name": "iconCode",
                            "type": "string",
                            "deprecated": false,
                            "deprecationMessage": ""
                        }
                    ],
                    "optional": false,
                    "returnType": "string",
                    "typeParameters": [],
                    "line": 257,
                    "deprecated": false,
                    "deprecationMessage": "",
                    "rawdescription": "\n\nGet image path based on weather condition\n",
                    "description": "<p>Get image path based on weather condition</p>\n",
                    "modifierKind": [
                        123
                    ],
                    "jsdoctags": [
                        {
                            "name": "weatherId",
                            "type": "number",
                            "deprecated": false,
                            "deprecationMessage": "",
                            "tagName": {
                                "text": "param"
                            }
                        },
                        {
                            "name": "iconCode",
                            "type": "string",
                            "deprecated": false,
                            "deprecationMessage": "",
                            "tagName": {
                                "text": "param"
                            }
                        }
                    ]
                },
                {
                    "name": "getWeatherByCity",
                    "args": [
                        {
                            "name": "city",
                            "type": "string",
                            "deprecated": false,
                            "deprecationMessage": ""
                        },
                        {
                            "name": "units",
                            "type": "\"metric\" | \"imperial\"",
                            "deprecated": false,
                            "deprecationMessage": "",
                            "defaultValue": "'imperial'"
                        }
                    ],
                    "optional": false,
                    "returnType": "Observable<WeatherResponse>",
                    "typeParameters": [],
                    "line": 59,
                    "deprecated": false,
                    "deprecationMessage": "",
                    "rawdescription": "\n\nGet weather data by city name\n",
                    "description": "<p>Get weather data by city name</p>\n",
                    "jsdoctags": [
                        {
                            "name": "city",
                            "type": "string",
                            "deprecated": false,
                            "deprecationMessage": "",
                            "tagName": {
                                "text": "param"
                            }
                        },
                        {
                            "name": "units",
                            "type": "\"metric\" | \"imperial\"",
                            "deprecated": false,
                            "deprecationMessage": "",
                            "defaultValue": "'imperial'",
                            "tagName": {
                                "text": "param"
                            }
                        }
                    ]
                },
                {
                    "name": "getWeatherByCoordinates",
                    "args": [
                        {
                            "name": "lat",
                            "type": "number",
                            "deprecated": false,
                            "deprecationMessage": ""
                        },
                        {
                            "name": "lon",
                            "type": "number",
                            "deprecated": false,
                            "deprecationMessage": ""
                        },
                        {
                            "name": "units",
                            "type": "\"metric\" | \"imperial\"",
                            "deprecated": false,
                            "deprecationMessage": "",
                            "defaultValue": "'imperial'"
                        }
                    ],
                    "optional": false,
                    "returnType": "Observable<WeatherResponse>",
                    "typeParameters": [],
                    "line": 79,
                    "deprecated": false,
                    "deprecationMessage": "",
                    "rawdescription": "\n\nGet weather data by coordinates\n",
                    "description": "<p>Get weather data by coordinates</p>\n",
                    "jsdoctags": [
                        {
                            "name": "lat",
                            "type": "number",
                            "deprecated": false,
                            "deprecationMessage": "",
                            "tagName": {
                                "text": "param"
                            }
                        },
                        {
                            "name": "lon",
                            "type": "number",
                            "deprecated": false,
                            "deprecationMessage": "",
                            "tagName": {
                                "text": "param"
                            }
                        },
                        {
                            "name": "units",
                            "type": "\"metric\" | \"imperial\"",
                            "deprecated": false,
                            "deprecationMessage": "",
                            "defaultValue": "'imperial'",
                            "tagName": {
                                "text": "param"
                            }
                        }
                    ]
                },
                {
                    "name": "getWeatherIcon",
                    "args": [
                        {
                            "name": "weatherId",
                            "type": "number",
                            "deprecated": false,
                            "deprecationMessage": ""
                        },
                        {
                            "name": "iconCode",
                            "type": "string",
                            "deprecated": false,
                            "deprecationMessage": ""
                        }
                    ],
                    "optional": false,
                    "returnType": "string",
                    "typeParameters": [],
                    "line": 205,
                    "deprecated": false,
                    "deprecationMessage": "",
                    "rawdescription": "\n\nMap OpenWeatherMap weather codes to emoji icons or image paths\nWeather condition codes: https://openweathermap.org/weather-conditions\n",
                    "description": "<p>Map OpenWeatherMap weather codes to emoji icons or image paths\nWeather condition codes: <a href=\"https://openweathermap.org/weather-conditions\">https://openweathermap.org/weather-conditions</a></p>\n",
                    "modifierKind": [
                        123
                    ],
                    "jsdoctags": [
                        {
                            "name": "weatherId",
                            "type": "number",
                            "deprecated": false,
                            "deprecationMessage": "",
                            "tagName": {
                                "text": "param"
                            }
                        },
                        {
                            "name": "iconCode",
                            "type": "string",
                            "deprecated": false,
                            "deprecationMessage": "",
                            "tagName": {
                                "text": "param"
                            }
                        }
                    ]
                },
                {
                    "name": "isApiKeyConfigured",
                    "args": [],
                    "optional": false,
                    "returnType": "boolean",
                    "typeParameters": [],
                    "line": 354,
                    "deprecated": false,
                    "deprecationMessage": "",
                    "modifierKind": [
                        123
                    ]
                },
                {
                    "name": "setIconType",
                    "args": [
                        {
                            "name": "type",
                            "type": "IconType",
                            "deprecated": false,
                            "deprecationMessage": ""
                        },
                        {
                            "name": "basePath",
                            "type": "string",
                            "deprecated": false,
                            "deprecationMessage": "",
                            "defaultValue": "'assets/'"
                        }
                    ],
                    "optional": false,
                    "returnType": "void",
                    "typeParameters": [],
                    "line": 44,
                    "deprecated": false,
                    "deprecationMessage": "",
                    "rawdescription": "\n\nSet the icon type (emoji or image)\n",
                    "description": "<p>Set the icon type (emoji or image)</p>\n",
                    "jsdoctags": [
                        {
                            "name": "type",
                            "type": "IconType",
                            "deprecated": false,
                            "deprecationMessage": "",
                            "tagName": {
                                "text": "param"
                            }
                        },
                        {
                            "name": "basePath",
                            "type": "string",
                            "deprecated": false,
                            "deprecationMessage": "",
                            "defaultValue": "'assets/'",
                            "tagName": {
                                "text": "param"
                            }
                        }
                    ]
                },
                {
                    "name": "transformForecastData",
                    "args": [
                        {
                            "name": "data",
                            "type": "any",
                            "deprecated": false,
                            "deprecationMessage": ""
                        }
                    ],
                    "optional": false,
                    "returnType": "DailyForecast[]",
                    "typeParameters": [],
                    "line": 169,
                    "deprecated": false,
                    "deprecationMessage": "",
                    "rawdescription": "\n\nTransform forecast data\n",
                    "description": "<p>Transform forecast data</p>\n",
                    "modifierKind": [
                        123
                    ],
                    "jsdoctags": [
                        {
                            "name": "data",
                            "type": "any",
                            "deprecated": false,
                            "deprecationMessage": "",
                            "tagName": {
                                "text": "param"
                            }
                        }
                    ]
                },
                {
                    "name": "transformWeatherData",
                    "args": [
                        {
                            "name": "data",
                            "type": "OpenWeatherMapResponse",
                            "deprecated": false,
                            "deprecationMessage": ""
                        },
                        {
                            "name": "units",
                            "type": "string",
                            "deprecated": false,
                            "deprecationMessage": ""
                        }
                    ],
                    "optional": false,
                    "returnType": "WeatherResponse",
                    "typeParameters": [],
                    "line": 144,
                    "deprecated": false,
                    "deprecationMessage": "",
                    "rawdescription": "\n\nTransform OpenWeatherMap API response to our WeatherResponse format\n",
                    "description": "<p>Transform OpenWeatherMap API response to our WeatherResponse format</p>\n",
                    "modifierKind": [
                        123
                    ],
                    "jsdoctags": [
                        {
                            "name": "data",
                            "type": "OpenWeatherMapResponse",
                            "deprecated": false,
                            "deprecationMessage": "",
                            "tagName": {
                                "text": "param"
                            }
                        },
                        {
                            "name": "units",
                            "type": "string",
                            "deprecated": false,
                            "deprecationMessage": "",
                            "tagName": {
                                "text": "param"
                            }
                        }
                    ]
                }
            ],
            "deprecated": false,
            "deprecationMessage": "",
            "description": "",
            "rawdescription": "\n",
            "sourceCode": "import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable, throwError } from 'rxjs';\nimport { map, catchError } from 'rxjs/operators';\nimport { environment } from '../../environments/environment';\nimport { OpenWeatherMapResponse, WeatherResponse, DailyForecast, IconType } from './models/weather.model';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class WeatherService {\n  // Weather condition code ranges\n  private readonly THUNDERSTORM_MIN = 200;\n  private readonly THUNDERSTORM_MAX = 300;\n  private readonly DRIZZLE_MIN = 300;\n  private readonly DRIZZLE_MAX = 400;\n  private readonly RAIN_MIN = 500;\n  private readonly RAIN_MAX = 600;\n  private readonly SNOW_MIN = 600;\n  private readonly SNOW_MAX = 700;\n  private readonly ATMOSPHERE_MIN = 700;\n  private readonly ATMOSPHERE_MAX = 800;\n  private readonly CLEAR_SKY = 800;\n  private readonly FEW_CLOUDS = 801;\n\n  // Base URLs when using proxy vs direct calls\n  private readonly PROXY_BASE_URL = '/api/data/2.5';\n  private readonly DEFAULT_BASE_URL = 'https://api.openweathermap.org/data/2.5';\n\n  private readonly apiKey = environment.weatherApi?.key?.trim() ?? '';\n  private readonly useProxy = environment.useProxy === true;\n  private readonly corsProxy = environment.corsProxy?.trim() ?? '';\n  private readonly configuredBaseUrl = environment.weatherApi?.baseUrl?.trim() ?? this.DEFAULT_BASE_URL;\n\n  // Icon configuration\n  private iconType: IconType = 'emoji';\n  private iconBasePath: string = 'assets/';\n\n  constructor(private http: HttpClient) {}\n\n  /**\n   * Set the icon type (emoji or image)\n   */\n  setIconType(type: IconType, basePath: string = 'assets/'): void {\n    this.iconType = type;\n    this.iconBasePath = basePath.endsWith('/') ? basePath : `${basePath}/`;\n  }\n\n  /**\n   * Get current icon type\n   */\n  getIconType(): IconType {\n    return this.iconType;\n  }\n\n  /**\n   * Get weather data by city name\n   */\n  getWeatherByCity(city: string, units: 'metric' | 'imperial' = 'imperial'): Observable<WeatherResponse> {\n    if (!this.isApiKeyConfigured()) {\n      return throwError(() => new Error('Weather API key is not configured. Please update environment.weatherApi.key.'));\n    }\n\n    const url = this.buildApiUrl('/weather', {\n      q: city,\n      units,\n      appid: this.apiKey\n    });\n\n    return this.http.get<OpenWeatherMapResponse>(url).pipe(\n      map(data => this.transformWeatherData(data, units)),\n      catchError(this.handleError)\n    );\n  }\n\n  /**\n   * Get weather data by coordinates\n   */\n  getWeatherByCoordinates(lat: number, lon: number, units: 'metric' | 'imperial' = 'imperial'): Observable<WeatherResponse> {\n    if (!this.isApiKeyConfigured()) {\n      return throwError(() => new Error('Weather API key is not configured. Please update environment.weatherApi.key.'));\n    }\n\n    const url = this.buildApiUrl('/weather', {\n      lat,\n      lon,\n      units,\n      appid: this.apiKey\n    });\n\n    return this.http.get<OpenWeatherMapResponse>(url).pipe(\n      map(data => this.transformWeatherData(data, units)),\n      catchError(this.handleError)\n    );\n  }\n\n  /**\n   * Get 5-day weather forecast\n   */\n  getForecast(city: string, units: 'metric' | 'imperial' = 'imperial'): Observable<DailyForecast[]> {\n    if (!this.isApiKeyConfigured()) {\n      return throwError(() => new Error('Weather API key is not configured. Please update environment.weatherApi.key.'));\n    }\n\n    const url = this.buildApiUrl('/forecast', {\n      q: city,\n      units,\n      appid: this.apiKey\n    });\n\n    return this.http.get<any>(url).pipe(\n      map(data => this.transformForecastData(data)),\n      catchError(this.handleError)\n    );\n  }\n\n  /**\n   * Get current position using browser geolocation\n   */\n  getCurrentPosition(): Promise<GeolocationCoordinates> {\n    return new Promise((resolve, reject) => {\n      if (!navigator.geolocation) {\n        reject(new Error('Geolocation is not supported by your browser'));\n        return;\n      }\n\n      navigator.geolocation.getCurrentPosition(\n        (position) => resolve(position.coords),\n        (error) => {\n          const errorMessages: Record<number, string> = {\n            [error.PERMISSION_DENIED]: 'Location permission denied',\n            [error.POSITION_UNAVAILABLE]: 'Location information unavailable',\n            [error.TIMEOUT]: 'Location request timed out'\n          };\n          reject(new Error(errorMessages[error.code] || 'Failed to get location'));\n        }\n      );\n    });\n  }\n\n  /**\n   * Transform OpenWeatherMap API response to our WeatherResponse format\n   */\n  private transformWeatherData(data: OpenWeatherMapResponse, units: string): WeatherResponse {\n    // Validate required data exists\n    if (!data || !data.main || !data.weather || !data.weather[0] || !data.wind || !data.sys) {\n      throw new Error('Invalid API response structure');\n    }\n\n    return {\n      location: `${data.name || 'Unknown'}${data.sys?.country ? ', ' + data.sys.country : ''}`,\n      temperature: Math.round(data.main.temp),\n      condition: data.weather[0].main,\n      description: data.weather[0].description,\n      humidity: data.main.humidity,\n      windSpeed: Math.round(data.wind.speed),\n      icon: this.getWeatherIcon(data.weather[0].id, data.weather[0].icon),\n      feelsLike: Math.round(data.main.feels_like),\n      pressure: data.main.pressure,\n      visibility: data.visibility || 0,\n      sunrise: data.sys.sunrise || 0,\n      sunset: data.sys.sunset || 0\n    };\n  }\n\n  /**\n   * Transform forecast data\n   */\n  private transformForecastData(data: any): DailyForecast[] {\n    if (!data || !Array.isArray(data.list)) {\n      throw new Error('Invalid forecast API response structure');\n    }\n\n    const dailyData: { [key: string]: any[] } = {};\n\n    // Group forecasts by day\n    data.list.forEach((item: any) => {\n      const date = new Date(item.dt * 1000).toISOString().split('T')[0];\n      if (!dailyData[date]) {\n        dailyData[date] = [];\n      }\n      dailyData[date].push(item);\n    });\n\n    // Get daily summary (first 5 days)\n    return Object.entries(dailyData).slice(0, 5).map(([date, items]) => {\n      const temps = items.map(item => item.main.temp);\n      const mainItem = items[Math.floor(items.length / 2)]; // Use midday data\n\n      return {\n        date,\n        tempMax: Math.round(Math.max(...temps)),\n        tempMin: Math.round(Math.min(...temps)),\n        condition: mainItem.weather[0].main,\n        icon: this.getWeatherIcon(mainItem.weather[0].id, mainItem.weather[0].icon),\n        humidity: mainItem.main.humidity\n      };\n    });\n  }\n\n  /**\n   * Map OpenWeatherMap weather codes to emoji icons or image paths\n   * Weather condition codes: https://openweathermap.org/weather-conditions\n   */\n  private getWeatherIcon(weatherId: number, iconCode: string): string {\n    if (this.iconType === 'emoji') {\n      return this.getEmojiIcon(weatherId, iconCode);\n    } else {\n      return this.getImageIcon(weatherId, iconCode);\n    }\n  }\n\n  /**\n   * Get emoji icon based on weather condition\n   */\n  private getEmojiIcon(weatherId: number, iconCode: string): string {\n    const isNight = iconCode.endsWith('n');\n\n    if (weatherId >= this.THUNDERSTORM_MIN && weatherId < this.THUNDERSTORM_MAX) {\n      return '‚õàÔ∏è';\n    }\n\n    if (weatherId >= this.DRIZZLE_MIN && weatherId < this.DRIZZLE_MAX) {\n      return 'üå¶Ô∏è';\n    }\n\n    if (weatherId >= this.RAIN_MIN && weatherId < this.RAIN_MAX) {\n      return 'üåßÔ∏è';\n    }\n\n    if (weatherId >= this.SNOW_MIN && weatherId < this.SNOW_MAX) {\n      return '‚ùÑÔ∏è';\n    }\n\n    if (weatherId >= this.ATMOSPHERE_MIN && weatherId < this.ATMOSPHERE_MAX) {\n      return 'üå´Ô∏è';\n    }\n\n    if (weatherId === this.CLEAR_SKY) {\n      return isNight ? 'üåô' : '‚òÄÔ∏è';\n    }\n\n    if (weatherId === this.FEW_CLOUDS) {\n      return isNight ? '‚òÅÔ∏è' : '‚õÖ';\n    }\n\n    if (weatherId > this.FEW_CLOUDS) {\n      return '‚òÅÔ∏è';\n    }\n\n    return '‚õÖ';\n  }\n\n  /**\n   * Get image path based on weather condition\n   */\n  private getImageIcon(weatherId: number, iconCode: string): string {\n    const isNight = iconCode.endsWith('n');\n\n    // Thunderstorm\n    if (weatherId >= this.THUNDERSTORM_MIN && weatherId < this.THUNDERSTORM_MAX) {\n      return `${this.iconBasePath}Cloud-Hail.svg`;\n    }\n\n    // Drizzle\n    if (weatherId >= this.DRIZZLE_MIN && weatherId < this.DRIZZLE_MAX) {\n      return `${this.iconBasePath}Cloud-Drizzle.svg`;\n    }\n\n    // Rain\n    if (weatherId >= this.RAIN_MIN && weatherId < this.RAIN_MAX) {\n      return `${this.iconBasePath}Cloud-Drizzle.svg`;\n    }\n\n    // Snow\n    if (weatherId >= this.SNOW_MIN && weatherId < this.SNOW_MAX) {\n      return `${this.iconBasePath}Cloud-Snow-Alt.svg`;\n    }\n\n    // Atmosphere (fog, mist, haze)\n    if (weatherId >= this.ATMOSPHERE_MIN && weatherId < this.ATMOSPHERE_MAX) {\n      return `${this.iconBasePath}Cloud-Fog.svg`;\n    }\n\n    // Clear sky\n    if (weatherId === this.CLEAR_SKY) {\n      return isNight ? `${this.iconBasePath}Moon.svg` : `${this.iconBasePath}Sun.svg`;\n    }\n\n    // Few clouds\n    if (weatherId === this.FEW_CLOUDS) {\n      return isNight ? `${this.iconBasePath}Cloud-Moon.svg` : `${this.iconBasePath}Cloud-Sun.svg`;\n    }\n\n    // Cloudy\n    if (weatherId > this.FEW_CLOUDS) {\n      return `${this.iconBasePath}Cloud.svg`;\n    }\n\n    return `${this.iconBasePath}Cloud-Sun.svg`;\n  }\n\n  /**\n   * Handle HTTP errors\n   */\n  private handleError = (error: any): Observable<never> => {\n    let errorMessage = 'An error occurred while fetching weather data';\n\n    if (error.error instanceof ErrorEvent) {\n      errorMessage = `Error: ${error.error.message}`;\n    } else if (error.status) {\n      const statusMessages: Record<number, string> = {\n        401: 'Invalid API key',\n        404: 'City not found',\n        429: 'API rate limit exceeded'\n      };\n      errorMessage = statusMessages[error.status] || `Error: ${error.message}`;\n    }\n\n    console.error('Weather API Error:', error);\n    return throwError(() => new Error(errorMessage));\n  };\n\n  /**\n   * Build the API URL depending on proxy/cors configuration\n   */\n  private buildApiUrl(endpoint: string, params: Record<string, string | number>): string {\n    const base = this.useProxy ? this.PROXY_BASE_URL : this.configuredBaseUrl;\n    const normalizedBase = base.endsWith('/') ? base.slice(0, -1) : base;\n    const normalizedEndpoint = endpoint.startsWith('/') ? endpoint : `/${endpoint}`;\n\n    const urlParams = new URLSearchParams();\n    Object.entries(params).forEach(([key, value]) => {\n      urlParams.set(key, String(value));\n    });\n\n    const apiUrl = `${normalizedBase}${normalizedEndpoint}?${urlParams.toString()}`;\n\n    if (this.useProxy || !this.corsProxy) {\n      return apiUrl;\n    }\n\n    // When not using proxy, optionally prepend configured CORS proxy\n    if (this.corsProxy.includes('{url}')) {\n      return this.corsProxy.replace('{url}', encodeURIComponent(apiUrl));\n    }\n\n    const shouldEncode = this.corsProxy.endsWith('=') || this.corsProxy.includes('?url=');\n    return shouldEncode\n      ? `${this.corsProxy}${encodeURIComponent(apiUrl)}`\n      : `${this.corsProxy}${apiUrl}`;\n  }\n\n  private isApiKeyConfigured(): boolean {\n    return !!this.apiKey && this.apiKey !== 'YOUR_OPENWEATHERMAP_API_KEY';\n  }\n}\n",
            "constructorObj": {
                "name": "constructor",
                "description": "",
                "deprecated": false,
                "deprecationMessage": "",
                "args": [
                    {
                        "name": "http",
                        "type": "HttpClient",
                        "deprecated": false,
                        "deprecationMessage": ""
                    }
                ],
                "line": 37,
                "jsdoctags": [
                    {
                        "name": "http",
                        "type": "HttpClient",
                        "deprecated": false,
                        "deprecationMessage": "",
                        "tagName": {
                            "text": "param"
                        }
                    }
                ]
            },
            "extends": [],
            "type": "injectable"
        }
    ],
    "guards": [],
    "interceptors": [],
    "classes": [],
    "directives": [],
    "components": [
        {
            "name": "App",
            "id": "component-App-4319a2f3c7989e9b9eb14aea55fc657ff2735c831c4fe6e0f6a5e65b4572e7b7dac36bf90997138ed726d43e9ff15362a4e5bb3f597d5628f2f8cda2248725af",
            "file": "src/app/app.ts",
            "encapsulation": [],
            "entryComponents": [],
            "inputs": [],
            "outputs": [],
            "providers": [],
            "selector": "app-root",
            "styleUrls": [],
            "styles": [],
            "templateUrl": [
                "./app.html"
            ],
            "viewProviders": [],
            "hostDirectives": [],
            "inputsClass": [],
            "outputsClass": [],
            "propertiesClass": [
                {
                    "name": "title",
                    "defaultValue": "signal('weather')",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "type": "unknown",
                    "indexKey": "",
                    "optional": false,
                    "description": "",
                    "line": 13,
                    "modifierKind": [
                        124,
                        148
                    ]
                },
                {
                    "name": "weatherData",
                    "defaultValue": "{\n    location: 'The Hague',\n    temperature: 13,\n    condition: 'Partly Cloudy',\n    humidity: 65,\n    windSpeed: 12,\n    icon: '‚õÖ',\n  }",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "type": "WeatherData",
                    "indexKey": "",
                    "optional": false,
                    "description": "",
                    "line": 15
                }
            ],
            "methodsClass": [],
            "deprecated": false,
            "deprecationMessage": "",
            "hostBindings": [],
            "hostListeners": [],
            "standalone": false,
            "imports": [
                {
                    "name": "RouterOutlet"
                },
                {
                    "name": "WeatherWidgetComponent",
                    "type": "component"
                }
            ],
            "description": "",
            "rawdescription": "\n",
            "type": "component",
            "sourceCode": "import { Component, signal } from '@angular/core';\nimport { RouterOutlet } from '@angular/router';\nimport { provideHttpClient } from '@angular/common/http';\nimport { WeatherWidgetComponent, WeatherData } from '../stories/weather-widget/weather-widget.component';\n\n@Component({\n  selector: 'app-root',\n  imports: [RouterOutlet, WeatherWidgetComponent],\n  templateUrl: './app.html',\n  styleUrl: './app.css'\n})\nexport class App {\n  protected readonly title = signal('weather');\n\n  weatherData: WeatherData = {\n    location: 'The Hague',\n    temperature: 13,\n    condition: 'Partly Cloudy',\n    humidity: 65,\n    windSpeed: 12,\n    icon: '‚õÖ',\n  };\n}\n",
            "styleUrl": "./app.css",
            "assetsDirs": [],
            "styleUrlsData": "",
            "stylesData": "",
            "extends": [],
            "templateData": "<div class=\"weather-app-container\">\n  <h1>Weather App</h1>\n  <p class=\"subtitle\">Real-time weather forecast for your location</p>\n  <weather-widget\n    [enableSearch]=\"true\"\n    [useRealData]=\"true\"\n    [initialCity]=\"'The Hague'\"\n    [weatherData]=\"weatherData\"\n    [unit]=\"'C'\"\n    [theme]=\"'dark'\"\n    [size]=\"'medium'\">\n  </weather-widget>\n</div>\n\n<router-outlet />\n"
        },
        {
            "name": "WeatherWidgetComponent",
            "id": "component-WeatherWidgetComponent-a76a5c61d2c9a023ef1e3faeb7d54392637c6e4bc273ab0180f18df330945782e340ed6168e4af7e0aec142e09b79055b1da93e1f36b5a687d69c8c9b1ea1db2",
            "file": "src/stories/weather-widget/weather-widget.component.ts",
            "encapsulation": [],
            "entryComponents": [],
            "inputs": [],
            "outputs": [],
            "providers": [
                {
                    "name": "WeatherService",
                    "type": "injectable"
                }
            ],
            "selector": "weather-widget",
            "styleUrls": [
                "./weather-widget.css"
            ],
            "styles": [],
            "template": "<main class=\"weather-widget\" [ngClass]=\"themeClass\" role=\"application\" aria-label=\"Weather widget\">\n  <!-- Search Bar -->\n  <div class=\"weather-search\" *ngIf=\"enableSearch\" role=\"search\">\n    <label for=\"city-search\" class=\"visually-hidden\">Search for a city</label>\n    <input\n      id=\"city-search\"\n      type=\"text\"\n      [(ngModel)]=\"searchCity\"\n      (keyup.enter)=\"searchWeather()\"\n      placeholder=\"Enter city name...\"\n      class=\"search-input\"\n      aria-label=\"City name\"\n      aria-describedby=\"search-help\"\n    />\n    <span id=\"search-help\" class=\"visually-hidden\">Press enter or click search button to get weather</span>\n    <button\n      (click)=\"searchWeather()\"\n      class=\"search-button\"\n      aria-label=\"Search weather\"\n      type=\"button\">\n      <span aria-hidden=\"true\">üîç</span>\n      <span class=\"button-text\">Search</span>\n    </button>\n    <button\n      (click)=\"getCurrentLocationWeather()\"\n      class=\"location-button\"\n      aria-label=\"Use my current location\"\n      type=\"button\">\n      <span aria-hidden=\"true\">üìç</span>\n      <span class=\"button-text\">Location</span>\n    </button>\n  </div>\n\n  <!-- Loading State -->\n  <div *ngIf=\"loading\" class=\"weather-loading\" role=\"status\" aria-live=\"polite\" aria-busy=\"true\">\n    <div class=\"spinner\" aria-hidden=\"true\"></div>\n    <p>Loading weather data...</p>\n  </div>\n\n  <!-- Error State -->\n  <div *ngIf=\"error && !loading\" class=\"weather-error\" role=\"alert\" aria-live=\"assertive\">\n    <span class=\"error-icon\" aria-hidden=\"true\">‚ö†Ô∏è</span>\n    <p>{{ error }}</p>\n    <button (click)=\"retry()\" class=\"retry-button\" type=\"button\" aria-label=\"Try loading weather again\">\n      Try Again\n    </button>\n  </div>\n\n  <!-- Weather Content -->\n  <div *ngIf=\"!loading && !error\" class=\"weather-content\" role=\"region\" aria-live=\"polite\" aria-label=\"Current weather information\">\n    <header class=\"weather-header\">\n      <h2 class=\"location\" id=\"location-heading\">{{ weatherData.location }}</h2>\n      <time class=\"date\" [attr.datetime]=\"currentDateISO\">{{ currentDate }}</time>\n    </header>\n\n    <div class=\"weather-main\" aria-labelledby=\"location-heading\">\n      <div class=\"weather-icon\" aria-hidden=\"true\">\n        <span *ngIf=\"iconType === 'emoji'\">{{ weatherData.icon }}</span>\n        <img *ngIf=\"iconType === 'image'\" [src]=\"weatherData.icon\" [alt]=\"weatherData.condition + ' weather icon'\" class=\"weather-icon-img\" />\n      </div>\n      <div class=\"temperature\" aria-label=\"Temperature: {{ weatherData.temperature }} degrees {{ unit === 'C' ? 'Celsius' : 'Fahrenheit' }}\">\n        {{ weatherData.temperature }}¬∞{{ unit }}\n      </div>\n    </div>\n\n    <div class=\"weather-condition\" role=\"text\" aria-label=\"Current condition\">{{ weatherData.condition }}</div>\n\n    <div class=\"weather-details\" role=\"list\" aria-label=\"Weather details\">\n      <div class=\"detail-item\" role=\"listitem\">\n        <span class=\"detail-label\" id=\"humidity-label\">Humidity</span>\n        <span class=\"detail-value\" aria-labelledby=\"humidity-label\" aria-label=\"Humidity {{ weatherData.humidity }} percent\">\n          {{ weatherData.humidity }}%\n        </span>\n      </div>\n      <div class=\"detail-item\" role=\"listitem\">\n        <span class=\"detail-label\" id=\"wind-label\">Wind Speed</span>\n        <span class=\"detail-value\" aria-labelledby=\"wind-label\" aria-label=\"Wind speed {{ weatherData.windSpeed }} {{ windUnit }}\">\n          {{ weatherData.windSpeed }} {{ windUnit }}\n        </span>\n      </div>\n    </div>\n\n    <!-- Last Updated -->\n    <div *ngIf=\"lastUpdated\" class=\"last-updated\" aria-live=\"polite\">\n      <small>Last updated: <time [attr.datetime]=\"lastUpdatedISO\">{{ lastUpdated }}</time></small>\n    </div>\n\n    <!-- Refresh Button -->\n    <button\n      *ngIf=\"enableSearch\"\n      (click)=\"refreshWeather()\"\n      class=\"refresh-button\"\n      type=\"button\"\n      aria-label=\"Refresh weather data\">\n      <span aria-hidden=\"true\">üîÑ</span>\n      <span class=\"button-text\">Refresh</span>\n    </button>\n  </div>\n</main>\n",
            "templateUrl": [],
            "viewProviders": [],
            "hostDirectives": [],
            "inputsClass": [
                {
                    "name": "enableSearch",
                    "defaultValue": "false",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "rawdescription": "\nEnable search functionality",
                    "description": "<p>Enable search functionality</p>\n",
                    "line": 129,
                    "type": "boolean",
                    "decorators": []
                },
                {
                    "name": "iconBasePath",
                    "defaultValue": "'assets/'",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "rawdescription": "\nBase path for icon images (only used when iconType is 'image')",
                    "description": "<p>Base path for icon images (only used when iconType is &#39;image&#39;)</p>\n",
                    "line": 172,
                    "type": "string",
                    "decorators": []
                },
                {
                    "name": "iconType",
                    "defaultValue": "'emoji'",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "rawdescription": "\nIcon type - emoji or image",
                    "description": "<p>Icon type - emoji or image</p>\n",
                    "line": 168,
                    "type": "IconType",
                    "decorators": []
                },
                {
                    "name": "initialCity",
                    "defaultValue": "'The Hague'",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "rawdescription": "\nInitial city to load",
                    "description": "<p>Initial city to load</p>\n",
                    "line": 133,
                    "type": "string",
                    "decorators": []
                },
                {
                    "name": "size",
                    "defaultValue": "'medium'",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "rawdescription": "\nWidget size",
                    "description": "<p>Widget size</p>\n",
                    "line": 164,
                    "type": "\"small\" | \"medium\" | \"large\"",
                    "decorators": []
                },
                {
                    "name": "theme",
                    "defaultValue": "'light'",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "rawdescription": "\nTheme of the widget",
                    "description": "<p>Theme of the widget</p>\n",
                    "line": 160,
                    "type": "\"light\" | \"dark\" | \"gradient\" | \"high-contrast\"",
                    "decorators": []
                },
                {
                    "name": "unit",
                    "defaultValue": "'F'",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "rawdescription": "\nTemperature unit (C or F)",
                    "description": "<p>Temperature unit (C or F)</p>\n",
                    "line": 152,
                    "type": "\"C\" | \"F\"",
                    "decorators": []
                },
                {
                    "name": "useRealData",
                    "defaultValue": "false",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "rawdescription": "\nUse real API data (if false, uses mock data)",
                    "description": "<p>Use real API data (if false, uses mock data)</p>\n",
                    "line": 137,
                    "type": "boolean",
                    "decorators": []
                },
                {
                    "name": "weatherData",
                    "defaultValue": "{\n    location: 'The Hague',\n    temperature: 5,\n    condition: 'Partly Cloudy',\n    humidity: 65,\n    windSpeed: 12,\n    icon: '‚õÖ',\n  }",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "rawdescription": "\nWeather data to display",
                    "description": "<p>Weather data to display</p>\n",
                    "line": 141,
                    "type": "WeatherData",
                    "decorators": []
                },
                {
                    "name": "windUnit",
                    "defaultValue": "'km/h'",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "rawdescription": "\nWind speed unit",
                    "description": "<p>Wind speed unit</p>\n",
                    "line": 156,
                    "type": "\"mph\" | \"km/h\"",
                    "decorators": []
                }
            ],
            "outputsClass": [],
            "propertiesClass": [
                {
                    "name": "currentDate",
                    "defaultValue": "''",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "type": "string",
                    "indexKey": "",
                    "optional": false,
                    "description": "",
                    "line": 174
                },
                {
                    "name": "currentDateISO",
                    "defaultValue": "''",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "type": "string",
                    "indexKey": "",
                    "optional": false,
                    "description": "",
                    "line": 175
                },
                {
                    "name": "error",
                    "defaultValue": "''",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "type": "string",
                    "indexKey": "",
                    "optional": false,
                    "description": "",
                    "line": 178
                },
                {
                    "name": "lastSearchedCity",
                    "defaultValue": "''",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "type": "string",
                    "indexKey": "",
                    "optional": false,
                    "description": "",
                    "line": 179
                },
                {
                    "name": "lastUpdated",
                    "defaultValue": "''",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "type": "string",
                    "indexKey": "",
                    "optional": false,
                    "description": "",
                    "line": 180
                },
                {
                    "name": "lastUpdatedISO",
                    "defaultValue": "''",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "type": "string",
                    "indexKey": "",
                    "optional": false,
                    "description": "",
                    "line": 181
                },
                {
                    "name": "loading",
                    "defaultValue": "false",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "type": "boolean",
                    "indexKey": "",
                    "optional": false,
                    "description": "",
                    "line": 177
                },
                {
                    "name": "searchCity",
                    "defaultValue": "''",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "type": "string",
                    "indexKey": "",
                    "optional": false,
                    "description": "",
                    "line": 176
                },
                {
                    "name": "weatherService",
                    "defaultValue": "inject(WeatherService)",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "type": "unknown",
                    "indexKey": "",
                    "optional": false,
                    "description": "",
                    "line": 125,
                    "modifierKind": [
                        123,
                        148
                    ]
                }
            ],
            "methodsClass": [
                {
                    "name": "getCurrentLocationWeather",
                    "args": [],
                    "optional": false,
                    "returnType": "Promise<void>",
                    "typeParameters": [],
                    "line": 211,
                    "deprecated": false,
                    "deprecationMessage": "",
                    "rawdescription": "\n\nGet weather for current location using geolocation\n",
                    "description": "<p>Get weather for current location using geolocation</p>\n",
                    "modifierKind": [
                        134
                    ]
                },
                {
                    "name": "handleError",
                    "args": [
                        {
                            "name": "err",
                            "type": "any",
                            "deprecated": false,
                            "deprecationMessage": ""
                        }
                    ],
                    "optional": false,
                    "returnType": "void",
                    "typeParameters": [],
                    "line": 295,
                    "deprecated": false,
                    "deprecationMessage": "",
                    "rawdescription": "\n\nHandle API errors\n",
                    "description": "<p>Handle API errors</p>\n",
                    "modifierKind": [
                        123
                    ],
                    "jsdoctags": [
                        {
                            "name": "err",
                            "type": "any",
                            "deprecated": false,
                            "deprecationMessage": "",
                            "tagName": {
                                "text": "param"
                            }
                        }
                    ]
                },
                {
                    "name": "handleWeatherData",
                    "args": [
                        {
                            "name": "data",
                            "type": "WeatherResponse",
                            "deprecated": false,
                            "deprecationMessage": ""
                        }
                    ],
                    "optional": false,
                    "returnType": "void",
                    "typeParameters": [],
                    "line": 278,
                    "deprecated": false,
                    "deprecationMessage": "",
                    "rawdescription": "\n\nHandle successful weather data response\n",
                    "description": "<p>Handle successful weather data response</p>\n",
                    "modifierKind": [
                        123
                    ],
                    "jsdoctags": [
                        {
                            "name": "data",
                            "type": "WeatherResponse",
                            "deprecated": false,
                            "deprecationMessage": "",
                            "tagName": {
                                "text": "param"
                            }
                        }
                    ]
                },
                {
                    "name": "loadWeather",
                    "args": [
                        {
                            "name": "city",
                            "type": "string",
                            "deprecated": false,
                            "deprecationMessage": ""
                        }
                    ],
                    "optional": false,
                    "returnType": "void",
                    "typeParameters": [],
                    "line": 253,
                    "deprecated": false,
                    "deprecationMessage": "",
                    "rawdescription": "\n\nLoad weather data from API\n",
                    "description": "<p>Load weather data from API</p>\n",
                    "modifierKind": [
                        123
                    ],
                    "jsdoctags": [
                        {
                            "name": "city",
                            "type": "string",
                            "deprecated": false,
                            "deprecationMessage": "",
                            "tagName": {
                                "text": "param"
                            }
                        }
                    ]
                },
                {
                    "name": "ngOnInit",
                    "args": [],
                    "optional": false,
                    "returnType": "void",
                    "typeParameters": [],
                    "line": 183,
                    "deprecated": false,
                    "deprecationMessage": ""
                },
                {
                    "name": "refreshWeather",
                    "args": [],
                    "optional": false,
                    "returnType": "void",
                    "typeParameters": [],
                    "line": 233,
                    "deprecated": false,
                    "deprecationMessage": "",
                    "rawdescription": "\n\nRefresh current weather data\n",
                    "description": "<p>Refresh current weather data</p>\n"
                },
                {
                    "name": "retry",
                    "args": [],
                    "optional": false,
                    "returnType": "void",
                    "typeParameters": [],
                    "line": 242,
                    "deprecated": false,
                    "deprecationMessage": "",
                    "rawdescription": "\n\nRetry after error\n",
                    "description": "<p>Retry after error</p>\n"
                },
                {
                    "name": "searchWeather",
                    "args": [],
                    "optional": false,
                    "returnType": "void",
                    "typeParameters": [],
                    "line": 200,
                    "deprecated": false,
                    "deprecationMessage": "",
                    "rawdescription": "\n\nSearch weather by city name\n",
                    "description": "<p>Search weather by city name</p>\n"
                },
                {
                    "name": "updateCurrentDate",
                    "args": [],
                    "optional": false,
                    "returnType": "void",
                    "typeParameters": [],
                    "line": 326,
                    "deprecated": false,
                    "deprecationMessage": "",
                    "rawdescription": "\n\nUpdate current date display\n",
                    "description": "<p>Update current date display</p>\n",
                    "modifierKind": [
                        123
                    ]
                },
                {
                    "name": "updateLastUpdatedTime",
                    "args": [],
                    "optional": false,
                    "returnType": "void",
                    "typeParameters": [],
                    "line": 340,
                    "deprecated": false,
                    "deprecationMessage": "",
                    "rawdescription": "\n\nUpdate last updated time display\n",
                    "description": "<p>Update last updated time display</p>\n",
                    "modifierKind": [
                        123
                    ]
                }
            ],
            "deprecated": false,
            "deprecationMessage": "",
            "hostBindings": [],
            "hostListeners": [],
            "standalone": true,
            "imports": [
                {
                    "name": "CommonModule",
                    "type": "module"
                },
                {
                    "name": "FormsModule",
                    "type": "module"
                }
            ],
            "description": "",
            "rawdescription": "\n",
            "type": "component",
            "sourceCode": "import { CommonModule } from '@angular/common';\nimport { Component, Input, OnInit, inject } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { WeatherService } from './weather.service';\nimport { WeatherResponse, IconType } from './models/weather.model';\n\nexport interface WeatherData {\n  location: string;\n  temperature: number;\n  condition: string;\n  humidity: number;\n  windSpeed: number;\n  icon: string;\n}\n\n@Component({\n  selector: 'weather-widget',\n  standalone: true,\n  imports: [CommonModule, FormsModule],\n  providers: [WeatherService],\n  template: `\n    <main class=\"weather-widget\" [ngClass]=\"themeClass\" role=\"application\" aria-label=\"Weather widget\">\n      <!-- Search Bar -->\n      <div class=\"weather-search\" *ngIf=\"enableSearch\" role=\"search\">\n        <label for=\"city-search\" class=\"visually-hidden\">Search for a city</label>\n        <input\n          id=\"city-search\"\n          type=\"text\"\n          [(ngModel)]=\"searchCity\"\n          (keyup.enter)=\"searchWeather()\"\n          placeholder=\"Enter city name...\"\n          class=\"search-input\"\n          aria-label=\"City name\"\n          aria-describedby=\"search-help\"\n        />\n        <span id=\"search-help\" class=\"visually-hidden\">Press enter or click search button to get weather</span>\n        <button\n          (click)=\"searchWeather()\"\n          class=\"search-button\"\n          aria-label=\"Search weather\"\n          type=\"button\">\n          <span aria-hidden=\"true\">üîç</span>\n          <span class=\"button-text\">Search</span>\n        </button>\n        <button\n          (click)=\"getCurrentLocationWeather()\"\n          class=\"location-button\"\n          aria-label=\"Use my current location\"\n          type=\"button\">\n          <span aria-hidden=\"true\">üìç</span>\n          <span class=\"button-text\">Location</span>\n        </button>\n      </div>\n\n      <!-- Loading State -->\n      <div *ngIf=\"loading\" class=\"weather-loading\" role=\"status\" aria-live=\"polite\" aria-busy=\"true\">\n        <div class=\"spinner\" aria-hidden=\"true\"></div>\n        <p>Loading weather data...</p>\n      </div>\n\n      <!-- Error State -->\n      <div *ngIf=\"error && !loading\" class=\"weather-error\" role=\"alert\" aria-live=\"assertive\">\n        <span class=\"error-icon\" aria-hidden=\"true\">‚ö†Ô∏è</span>\n        <p>{{ error }}</p>\n        <button (click)=\"retry()\" class=\"retry-button\" type=\"button\" aria-label=\"Try loading weather again\">\n          Try Again\n        </button>\n      </div>\n\n      <!-- Weather Content -->\n      <div *ngIf=\"!loading && !error\" class=\"weather-content\" role=\"region\" aria-live=\"polite\" aria-label=\"Current weather information\">\n        <header class=\"weather-header\">\n          <h2 class=\"location\" id=\"location-heading\">{{ weatherData.location }}</h2>\n          <time class=\"date\" [attr.datetime]=\"currentDateISO\">{{ currentDate }}</time>\n        </header>\n\n        <div class=\"weather-main\" aria-labelledby=\"location-heading\">\n          <div class=\"weather-icon\" aria-hidden=\"true\">\n            <span *ngIf=\"iconType === 'emoji'\">{{ weatherData.icon }}</span>\n            <img *ngIf=\"iconType === 'image'\" [src]=\"weatherData.icon\" [alt]=\"weatherData.condition + ' weather icon'\" class=\"weather-icon-img\" />\n          </div>\n          <div class=\"temperature\" aria-label=\"Temperature: {{ weatherData.temperature }} degrees {{ unit === 'C' ? 'Celsius' : 'Fahrenheit' }}\">\n            {{ weatherData.temperature }}¬∞{{ unit }}\n          </div>\n        </div>\n\n        <div class=\"weather-condition\" role=\"text\" aria-label=\"Current condition\">{{ weatherData.condition }}</div>\n\n        <div class=\"weather-details\" role=\"list\" aria-label=\"Weather details\">\n          <div class=\"detail-item\" role=\"listitem\">\n            <span class=\"detail-label\" id=\"humidity-label\">Humidity</span>\n            <span class=\"detail-value\" aria-labelledby=\"humidity-label\" aria-label=\"Humidity {{ weatherData.humidity }} percent\">\n              {{ weatherData.humidity }}%\n            </span>\n          </div>\n          <div class=\"detail-item\" role=\"listitem\">\n            <span class=\"detail-label\" id=\"wind-label\">Wind Speed</span>\n            <span class=\"detail-value\" aria-labelledby=\"wind-label\" aria-label=\"Wind speed {{ weatherData.windSpeed }} {{ windUnit }}\">\n              {{ weatherData.windSpeed }} {{ windUnit }}\n            </span>\n          </div>\n        </div>\n\n        <!-- Last Updated -->\n        <div *ngIf=\"lastUpdated\" class=\"last-updated\" aria-live=\"polite\">\n          <small>Last updated: <time [attr.datetime]=\"lastUpdatedISO\">{{ lastUpdated }}</time></small>\n        </div>\n\n        <!-- Refresh Button -->\n        <button\n          *ngIf=\"enableSearch\"\n          (click)=\"refreshWeather()\"\n          class=\"refresh-button\"\n          type=\"button\"\n          aria-label=\"Refresh weather data\">\n          <span aria-hidden=\"true\">üîÑ</span>\n          <span class=\"button-text\">Refresh</span>\n        </button>\n      </div>\n    </main>\n  `,\n  styleUrls: ['./weather-widget.css'],\n})\nexport class WeatherWidgetComponent implements OnInit {\n  private readonly weatherService = inject(WeatherService);\n\n  /** Enable search functionality */\n  @Input()\n  enableSearch: boolean = false;\n\n  /** Initial city to load */\n  @Input()\n  initialCity: string = 'The Hague';\n\n  /** Use real API data (if false, uses mock data) */\n  @Input()\n  useRealData: boolean = false;\n\n  /** Weather data to display */\n  @Input()\n  weatherData: WeatherData = {\n    location: 'The Hague',\n    temperature: 5,\n    condition: 'Partly Cloudy',\n    humidity: 65,\n    windSpeed: 12,\n    icon: '‚õÖ',\n  };\n\n  /** Temperature unit (C or F) */\n  @Input()\n  unit: 'C' | 'F' = 'F';\n\n  /** Wind speed unit */\n  @Input()\n  windUnit: 'mph' | 'km/h' = 'km/h';\n\n  /** Theme of the widget */\n  @Input()\n  theme: 'light' | 'dark' | 'gradient' | 'high-contrast' = 'light';\n\n  /** Widget size */\n  @Input()\n  size: 'small' | 'medium' | 'large' = 'medium';\n\n  /** Icon type - emoji or image */\n  @Input()\n  iconType: IconType = 'emoji';\n\n  /** Base path for icon images (only used when iconType is 'image') */\n  @Input()\n  iconBasePath: string = 'assets/';\n\n  currentDate: string = '';\n  currentDateISO: string = '';\n  searchCity: string = '';\n  loading: boolean = false;\n  error: string = '';\n  lastSearchedCity: string = '';\n  lastUpdated: string = '';\n  lastUpdatedISO: string = '';\n\n  ngOnInit() {\n    this.updateCurrentDate();\n    this.searchCity = this.initialCity;\n    this.lastSearchedCity = this.initialCity;\n\n    // Configure icon type in service\n    this.weatherService.setIconType(this.iconType, this.iconBasePath);\n\n    // Load initial city weather if real API is enabled\n    if (this.useRealData) {\n      this.loadWeather(this.initialCity);\n    }\n  }\n\n  /**\n   * Search weather by city name\n   */\n  searchWeather(): void {\n    if (!this.searchCity.trim()) {\n      this.error = 'Please enter a city name';\n      return;\n    }\n    this.loadWeather(this.searchCity.trim());\n  }\n\n  /**\n   * Get weather for current location using geolocation\n   */\n  async getCurrentLocationWeather(): Promise<void> {\n    this.loading = true;\n    this.error = '';\n\n    try {\n      const coords = await this.weatherService.getCurrentPosition();\n      const units = this.unit === 'C' ? 'metric' : 'imperial';\n\n      this.weatherService.getWeatherByCoordinates(coords.latitude, coords.longitude, units)\n        .subscribe({\n          next: (data) => this.handleWeatherData(data),\n          error: (err) => this.handleError(err)\n        });\n    } catch (err) {\n      this.loading = false;\n      this.error = err instanceof Error ? err.message : 'Unable to get your location';\n    }\n  }\n\n  /**\n   * Refresh current weather data\n   */\n  refreshWeather(): void {\n    if (this.lastSearchedCity) {\n      this.loadWeather(this.lastSearchedCity);\n    }\n  }\n\n  /**\n   * Retry after error\n   */\n  retry(): void {\n    if (this.lastSearchedCity) {\n      this.loadWeather(this.lastSearchedCity);\n    } else {\n      this.error = '';\n    }\n  }\n\n  /**\n   * Load weather data from API\n   */\n  private loadWeather(city: string) {\n    this.loading = true;\n    this.error = '';\n    this.lastSearchedCity = city;\n\n    const units = this.unit === 'C' ? 'metric' : 'imperial';\n\n    this.weatherService.getWeatherByCity(city, units).subscribe({\n      next: (data) => {\n        console.log('Weather data received:', data);\n        this.handleWeatherData(data);\n      },\n      error: (err) => {\n        console.error('Weather service error:', err);\n        this.handleError(err);\n      },\n      complete: () => {\n        console.log('Weather request completed');\n      }\n    });\n  }\n\n  /**\n   * Handle successful weather data response\n   */\n  private handleWeatherData(data: WeatherResponse) {\n    this.weatherData = {\n      location: data.location,\n      temperature: data.temperature,\n      condition: data.condition,\n      humidity: data.humidity,\n      windSpeed: data.windSpeed,\n      icon: data.icon\n    };\n    this.loading = false;\n    this.error = '';\n    this.updateLastUpdatedTime();\n  }\n\n  /**\n   * Handle API errors\n   */\n  private handleError(err: any) {\n    this.loading = false;\n\n    // Log the full error for debugging\n    console.error('Full error object:', err);\n\n    // Provide specific error messages based on error type\n    if (err.status === 404) {\n      this.error = `City \"${this.lastSearchedCity}\" not found. Please check the spelling and try again.`;\n    } else if (err.status === 401 || err.status === 403) {\n      this.error = 'API authentication failed. Please check your API key configuration.';\n    } else if (err.status === 429) {\n      this.error = 'Too many requests. Please wait a moment and try again.';\n    } else if (err.status >= 500) {\n      this.error = 'Weather service is currently unavailable. Please try again later.';\n    } else if (err.status === 0) {\n      this.error = 'Network error. Please check your internet connection.';\n    } else if (err.message) {\n      this.error = err.message;\n    } else if (err.error?.message) {\n      this.error = err.error.message;\n    } else {\n      this.error = 'Failed to load weather data. Please try again.';\n    }\n\n    console.error('Weather widget error:', this.error);\n  }\n\n  /**\n   * Update current date display\n   */\n  private updateCurrentDate() {\n    const now = new Date();\n    this.currentDate = now.toLocaleDateString('en-US', {\n      weekday: 'long',\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric',\n    });\n    this.currentDateISO = now.toISOString().split('T')[0];\n  }\n\n  /**\n   * Update last updated time display\n   */\n  private updateLastUpdatedTime() {\n    const now = new Date();\n    this.lastUpdated = now.toLocaleTimeString('en-US', {\n      hour: '2-digit',\n      minute: '2-digit',\n    });\n    this.lastUpdatedISO = now.toISOString();\n  }\n\n  get themeClass(): string {\n    return `weather-widget--${this.theme} weather-widget--${this.size}`;\n  }\n}\n",
            "assetsDirs": [],
            "styleUrlsData": [
                {
                    "data": ".weather-widget {\n  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n  border-radius: 20px;\n  padding: 2rem;\n  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);\n  transition: all 0.3s ease;\n  display: flex;\n  flex-direction: column;\n  gap: 1.5rem;\n  max-width: 400px;\n  width: 100%;\n  position: relative;\n}\n\n.weather-widget:hover {\n  transform: translateY(-5px);\n  box-shadow: 0 15px 40px rgba(0, 0, 0, 0.15);\n}\n\n/* Search Bar */\n.weather-search {\n  display: flex;\n  gap: 0.5rem;\n  margin-bottom: 0.5rem;\n}\n\n.search-input {\n  flex: 1;\n  padding: 0.75rem 1rem;\n  border: none;\n  border-radius: 10px;\n  background: rgba(255, 255, 255, 0.9);\n  color: #333;\n  font-size: 0.95em;\n  outline: none;\n  transition: all 0.3s ease;\n}\n\n.search-input::placeholder {\n  color: #999;\n}\n\n.search-input:focus {\n  background: rgba(255, 255, 255, 1);\n  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.5);\n  outline: 2px solid #3b82f6;\n  outline-offset: 2px;\n}\n\n.weather-widget--dark .search-input {\n  background: rgba(255, 255, 255, 0.15);\n  color: white;\n}\n\n.weather-widget--dark .search-input::placeholder {\n  color: rgba(255, 255, 255, 0.6);\n}\n\n.weather-widget--dark .search-input:focus {\n  background: rgba(255, 255, 255, 0.2);\n  box-shadow: 0 0 0 3px rgba(96, 165, 250, 0.5);\n  outline: 2px solid #60a5fa;\n  outline-offset: 2px;\n}\n\n.search-button,\n.location-button,\n.refresh-button,\n.retry-button {\n  padding: 0.75rem 1rem;\n  border: none;\n  border-radius: 10px;\n  background: rgba(255, 255, 255, 0.9);\n  cursor: pointer;\n  font-size: 1.1em;\n  transition: all 0.3s ease;\n  outline: none;\n}\n\n.search-button:hover,\n.location-button:hover,\n.refresh-button:hover,\n.retry-button:hover {\n  background: rgba(255, 255, 255, 1);\n  transform: scale(1.05);\n}\n\n.search-button:active,\n.location-button:active,\n.refresh-button:active,\n.retry-button:active {\n  transform: scale(0.95);\n}\n\n.search-button:focus,\n.location-button:focus,\n.refresh-button:focus,\n.retry-button:focus {\n  outline: 3px solid #3b82f6;\n  outline-offset: 2px;\n  box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.3);\n}\n\n.search-button:focus:not(:focus-visible) {\n  outline: none;\n  box-shadow: none;\n}\n\n.button-text {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.weather-widget--dark .search-button,\n.weather-widget--dark .location-button,\n.weather-widget--dark .refresh-button {\n  background: rgba(255, 255, 255, 0.15);\n}\n\n.weather-widget--dark .search-button:hover,\n.weather-widget--dark .location-button:hover,\n.weather-widget--dark .refresh-button:hover {\n  background: rgba(255, 255, 255, 0.25);\n}\n\n.weather-widget--dark .search-button:focus,\n.weather-widget--dark .location-button:focus,\n.weather-widget--dark .refresh-button:focus,\n.weather-widget--dark .retry-button:focus {\n  outline: 3px solid #60a5fa;\n  outline-offset: 2px;\n  box-shadow: 0 0 0 4px rgba(96, 165, 250, 0.3);\n}\n\n.refresh-button {\n  position: absolute;\n  top: 1rem;\n  right: 1rem;\n  padding: 0.5rem;\n  font-size: 1.2em;\n}\n\n/* Loading State */\n.weather-loading {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 1rem;\n  padding: 3rem 0;\n  color: white;\n}\n\n.spinner {\n  width: 50px;\n  height: 50px;\n  border: 4px solid rgba(255, 255, 255, 0.3);\n  border-top-color: white;\n  border-radius: 50%;\n  animation: spin 1s linear infinite;\n}\n\n@keyframes spin {\n  to { transform: rotate(360deg); }\n}\n\n.weather-loading p {\n  font-size: 1.1em;\n  opacity: 0.95;\n  font-weight: 500;\n}\n\n/* Error State */\n.weather-error {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 1rem;\n  padding: 2rem 0;\n  color: white;\n  text-align: center;\n}\n\n.error-icon {\n  font-size: 3em;\n}\n\n.weather-error p {\n  font-size: 1.15em;\n  opacity: 0.95;\n  margin: 0;\n  font-weight: 500;\n  line-height: 1.5;\n}\n\n.retry-button {\n  margin-top: 0.5rem;\n  padding: 0.75rem 1.5rem;\n  font-size: 1em;\n  font-weight: 600;\n  color: #333;\n}\n\n/* Weather Content */\n.weather-content {\n  display: flex;\n  flex-direction: column;\n  gap: 1.5rem;\n}\n\n/* Themes */\n.weather-widget--light {\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  color: white;\n}\n\n.weather-widget--dark {\n  background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);\n  color: #f0f0f0;\n}\n\n.weather-widget--gradient {\n  background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);\n  color: white;\n}\n\n.weather-widget--high-contrast {\n  background: #000000;\n  color: #ffffff;\n  border: 3px solid #ffffff;\n}\n\n.weather-widget--high-contrast .search-input {\n  background: #000000;\n  color: #ffffff;\n  border: 2px solid #ffffff;\n}\n\n.weather-widget--high-contrast .search-input::placeholder {\n  color: #cccccc;\n}\n\n.weather-widget--high-contrast .search-button,\n.weather-widget--high-contrast .location-button,\n.weather-widget--high-contrast .refresh-button,\n.weather-widget--high-contrast .retry-button {\n  background: #ffffff;\n  color: #000000;\n  border: 2px solid #ffffff;\n  font-weight: 700;\n}\n\n.weather-widget--high-contrast .search-button:hover,\n.weather-widget--high-contrast .location-button:hover,\n.weather-widget--high-contrast .refresh-button:hover,\n.weather-widget--high-contrast .retry-button:hover {\n  background: #ffff00;\n  color: #000000;\n  border-color: #ffff00;\n}\n\n.weather-widget--high-contrast .weather-header,\n.weather-widget--high-contrast .weather-details {\n  border-color: #ffffff;\n}\n\n.weather-widget--high-contrast .detail-label {\n  color: #ffff00;\n  font-weight: 700;\n}\n\n/* Sizes */\n.weather-widget--small {\n  padding: 1rem;\n  gap: 1rem;\n  max-width: 280px;\n  font-size: 0.875rem;\n}\n\n.weather-widget--medium {\n  padding: 2rem;\n  gap: 1.5rem;\n  max-width: 400px;\n  font-size: 1rem;\n}\n\n.weather-widget--large {\n  padding: 2.5rem;\n  gap: 2rem;\n  max-width: 500px;\n  font-size: 1.125rem;\n}\n\n/* Header */\n.weather-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  border-bottom: 2px solid rgba(255, 255, 255, 0.3);\n  padding-bottom: 1rem;\n}\n\n.location {\n  margin: 0;\n  font-size: 1.75em;\n  font-weight: 700;\n  letter-spacing: -0.025em;\n  line-height: 1.2;\n}\n\n.date {\n  font-size: 0.8em;\n  opacity: 0.85;\n  font-weight: 500;\n}\n\n.weather-widget--small .location {\n  font-size: 1.25em;\n}\n\n.weather-widget--large .location {\n  font-size: 1.75em;\n}\n\n/* Main weather display */\n.weather-main {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  gap: 1rem;\n}\n\n.weather-icon {\n  font-size: 5em;\n  line-height: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-shrink: 0;\n}\n\n.weather-icon-img {\n  width: 160px;\n  height: 160px;\n  object-fit: contain;\n  filter: drop-shadow(2px 2px 4px rgba(0, 0, 0, 0.1));\n}\n\n.weather-widget--small .weather-icon {\n  font-size: 3.5em;\n}\n\n.weather-widget--small .weather-icon-img {\n  width: 120px;\n  height: 120px;\n}\n\n.weather-widget--large .weather-icon {\n  font-size: 6em;\n}\n\n.weather-widget--large .weather-icon-img {\n  width: 200px;\n  height: 200px;\n}\n\n.temperature {\n  font-size: 4.5em;\n  font-weight: 800;\n  line-height: 1;\n  text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.2);\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  letter-spacing: -0.05em;\n}\n\n.weather-widget--small .temperature {\n  font-size: 2.5em;\n}\n\n.weather-widget--large .temperature {\n  font-size: 5em;\n}\n\n/* Condition */\n.weather-condition {\n  text-align: center;\n  font-size: 1.4em;\n  font-weight: 600;\n  opacity: 0.95;\n  text-transform: capitalize;\n  letter-spacing: 0.025em;\n}\n\n/* Details */\n.weather-details {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 1rem;\n  padding-top: 1rem;\n  border-top: 1px solid rgba(255, 255, 255, 0.2);\n}\n\n.detail-item {\n  display: flex;\n  flex-direction: column;\n  gap: 0.25rem;\n  text-align: center;\n}\n\n.detail-label {\n  font-size: 0.75em;\n  opacity: 0.85;\n  text-transform: uppercase;\n  letter-spacing: 0.075em;\n  font-weight: 600;\n}\n\n.detail-value {\n  font-size: 1.5em;\n  font-weight: 700;\n  margin-top: 0.25rem;\n}\n\n/* Dark theme specific adjustments */\n.weather-widget--dark .weather-header,\n.weather-widget--dark .weather-details {\n  border-color: rgba(240, 240, 240, 0.2);\n}\n\n/* Last Updated */\n.last-updated {\n  text-align: center;\n  opacity: 0.7;\n  font-size: 0.85em;\n  padding-top: 0.5rem;\n}\n\n.last-updated small {\n  font-style: italic;\n}\n\n/* Accessibility - Visually Hidden */\n.visually-hidden {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n/* Focus visible for keyboard navigation */\n*:focus-visible {\n  outline: 3px solid #3b82f6;\n  outline-offset: 2px;\n}\n\n.weather-widget--dark *:focus-visible {\n  outline-color: #60a5fa;\n}\n\n/* Skip to content for keyboard users */\n.skip-link {\n  position: absolute;\n  top: -40px;\n  left: 0;\n  background: #000;\n  color: white;\n  padding: 8px;\n  text-decoration: none;\n  z-index: 100;\n}\n\n.skip-link:focus {\n  top: 0;\n}\n\n/* Responsive adjustments */\n@media (max-width: 480px) {\n  .weather-widget {\n    max-width: 100%;\n  }\n}\n",
                    "styleUrl": "./weather-widget.css"
                }
            ],
            "stylesData": "",
            "extends": [],
            "implements": [
                "OnInit"
            ],
            "accessors": {
                "themeClass": {
                    "name": "themeClass",
                    "getSignature": {
                        "name": "themeClass",
                        "type": "string",
                        "returnType": "string",
                        "line": 349
                    }
                }
            }
        }
    ],
    "modules": [],
    "miscellaneous": {
        "variables": [
            {
                "name": "appConfig",
                "ctype": "miscellaneous",
                "subtype": "variable",
                "file": "src/app/app.config.ts",
                "deprecated": false,
                "deprecationMessage": "",
                "type": "ApplicationConfig",
                "defaultValue": "{\n  providers: [\n    provideBrowserGlobalErrorListeners(),\n    provideRouter(routes),\n    provideHttpClient()\n  ]\n}"
            },
            {
                "name": "environment",
                "ctype": "miscellaneous",
                "subtype": "variable",
                "file": "src/environments/environment.prod.ts",
                "deprecated": false,
                "deprecationMessage": "",
                "type": "object",
                "defaultValue": "{\n  production: true,\n\n  // OpenWeatherMap API Configuration\n  weatherApi: {\n    key: '9a755e38ff059806bf283e3174fdeae7', // Replace with your API key\n    baseUrl: 'https://api.openweathermap.org/data/2.5',\n  },\n\n  // For production, consider setting up a backend proxy\n  // to hide your API key and avoid CORS issues\n  corsProxy: 'https://api.allorigins.win/raw?url=',\n\n  useProxy: false,\n}"
            },
            {
                "name": "environment",
                "ctype": "miscellaneous",
                "subtype": "variable",
                "file": "src/environments/environment.ts",
                "deprecated": false,
                "deprecationMessage": "",
                "type": "object",
                "defaultValue": "{\n  production: false,\n\n  // OpenWeatherMap API Configuration\n  // Get your free API key at: https://openweathermap.org/api\n  weatherApi: {\n    key: '9a755e38ff059806bf283e3174fdeae7', // Replace with your API key\n    baseUrl: 'https://api.openweathermap.org/data/2.5',\n  },\n\n  // CORS Proxy Configuration\n  // Options:\n  // 1. https://api.allorigins.win/raw?url= (free, no auth required)\n  // 2. https://corsproxy.io/? (free, no auth required)\n  // 3. Deploy your own: https://github.com/Rob--W/cors-anywhere\n\n  corsProxy: 'https://api.allorigins.win/raw?url=',\n\n  // Use Angular proxy configuration (recommended for development)\n  // See proxy.conf.json\n  useProxy: false,\n}"
            },
            {
                "name": "routes",
                "ctype": "miscellaneous",
                "subtype": "variable",
                "file": "src/app/app.routes.ts",
                "deprecated": false,
                "deprecationMessage": "",
                "type": "Routes",
                "defaultValue": "[]"
            }
        ],
        "functions": [],
        "typealiases": [
            {
                "name": "IconType",
                "ctype": "miscellaneous",
                "subtype": "typealias",
                "rawtype": "\"emoji\" | \"image\"",
                "file": "src/stories/weather-widget/models/weather.model.ts",
                "deprecated": false,
                "deprecationMessage": "",
                "description": "",
                "kind": 193
            }
        ],
        "enumerations": [],
        "groupedVariables": {
            "src/app/app.config.ts": [
                {
                    "name": "appConfig",
                    "ctype": "miscellaneous",
                    "subtype": "variable",
                    "file": "src/app/app.config.ts",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "type": "ApplicationConfig",
                    "defaultValue": "{\n  providers: [\n    provideBrowserGlobalErrorListeners(),\n    provideRouter(routes),\n    provideHttpClient()\n  ]\n}"
                }
            ],
            "src/environments/environment.prod.ts": [
                {
                    "name": "environment",
                    "ctype": "miscellaneous",
                    "subtype": "variable",
                    "file": "src/environments/environment.prod.ts",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "type": "object",
                    "defaultValue": "{\n  production: true,\n\n  // OpenWeatherMap API Configuration\n  weatherApi: {\n    key: '9a755e38ff059806bf283e3174fdeae7', // Replace with your API key\n    baseUrl: 'https://api.openweathermap.org/data/2.5',\n  },\n\n  // For production, consider setting up a backend proxy\n  // to hide your API key and avoid CORS issues\n  corsProxy: 'https://api.allorigins.win/raw?url=',\n\n  useProxy: false,\n}"
                }
            ],
            "src/environments/environment.ts": [
                {
                    "name": "environment",
                    "ctype": "miscellaneous",
                    "subtype": "variable",
                    "file": "src/environments/environment.ts",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "type": "object",
                    "defaultValue": "{\n  production: false,\n\n  // OpenWeatherMap API Configuration\n  // Get your free API key at: https://openweathermap.org/api\n  weatherApi: {\n    key: '9a755e38ff059806bf283e3174fdeae7', // Replace with your API key\n    baseUrl: 'https://api.openweathermap.org/data/2.5',\n  },\n\n  // CORS Proxy Configuration\n  // Options:\n  // 1. https://api.allorigins.win/raw?url= (free, no auth required)\n  // 2. https://corsproxy.io/? (free, no auth required)\n  // 3. Deploy your own: https://github.com/Rob--W/cors-anywhere\n\n  corsProxy: 'https://api.allorigins.win/raw?url=',\n\n  // Use Angular proxy configuration (recommended for development)\n  // See proxy.conf.json\n  useProxy: false,\n}"
                }
            ],
            "src/app/app.routes.ts": [
                {
                    "name": "routes",
                    "ctype": "miscellaneous",
                    "subtype": "variable",
                    "file": "src/app/app.routes.ts",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "type": "Routes",
                    "defaultValue": "[]"
                }
            ]
        },
        "groupedFunctions": {},
        "groupedEnumerations": {},
        "groupedTypeAliases": {
            "src/stories/weather-widget/models/weather.model.ts": [
                {
                    "name": "IconType",
                    "ctype": "miscellaneous",
                    "subtype": "typealias",
                    "rawtype": "\"emoji\" | \"image\"",
                    "file": "src/stories/weather-widget/models/weather.model.ts",
                    "deprecated": false,
                    "deprecationMessage": "",
                    "description": "",
                    "kind": 193
                }
            ]
        }
    },
    "routes": {
        "name": "<root>",
        "kind": "module",
        "children": []
    },
    "coverage": {
        "count": 7,
        "status": "low",
        "files": [
            {
                "filePath": "src/app/app.config.ts",
                "type": "variable",
                "linktype": "miscellaneous",
                "linksubtype": "variable",
                "name": "appConfig",
                "coveragePercent": 0,
                "coverageCount": "0/1",
                "status": "low"
            },
            {
                "filePath": "src/app/app.routes.ts",
                "type": "variable",
                "linktype": "miscellaneous",
                "linksubtype": "variable",
                "name": "routes",
                "coveragePercent": 0,
                "coverageCount": "0/1",
                "status": "low"
            },
            {
                "filePath": "src/app/app.ts",
                "type": "component",
                "linktype": "component",
                "name": "App",
                "coveragePercent": 0,
                "coverageCount": "0/3",
                "status": "low"
            },
            {
                "filePath": "src/environments/environment.prod.ts",
                "type": "variable",
                "linktype": "miscellaneous",
                "linksubtype": "variable",
                "name": "environment",
                "coveragePercent": 0,
                "coverageCount": "0/1",
                "status": "low"
            },
            {
                "filePath": "src/environments/environment.ts",
                "type": "variable",
                "linktype": "miscellaneous",
                "linksubtype": "variable",
                "name": "environment",
                "coveragePercent": 0,
                "coverageCount": "0/1",
                "status": "low"
            },
            {
                "filePath": "src/stories/weather-widget/models/weather.model.ts",
                "type": "interface",
                "linktype": "interface",
                "name": "DailyForecast",
                "coveragePercent": 0,
                "coverageCount": "0/7",
                "status": "low"
            },
            {
                "filePath": "src/stories/weather-widget/models/weather.model.ts",
                "type": "interface",
                "linktype": "interface",
                "name": "OpenWeatherMapResponse",
                "coveragePercent": 0,
                "coverageCount": "0/14",
                "status": "low"
            },
            {
                "filePath": "src/stories/weather-widget/models/weather.model.ts",
                "type": "interface",
                "linktype": "interface",
                "name": "WeatherIconConfig",
                "coveragePercent": 0,
                "coverageCount": "0/3",
                "status": "low"
            },
            {
                "filePath": "src/stories/weather-widget/models/weather.model.ts",
                "type": "interface",
                "linktype": "interface",
                "name": "WeatherResponse",
                "coveragePercent": 0,
                "coverageCount": "0/14",
                "status": "low"
            },
            {
                "filePath": "src/stories/weather-widget/models/weather.model.ts",
                "type": "type alias",
                "linktype": "miscellaneous",
                "linksubtype": "typealias",
                "name": "IconType",
                "coveragePercent": 0,
                "coverageCount": "0/1",
                "status": "low"
            },
            {
                "filePath": "src/stories/weather-widget/weather-widget.component.ts",
                "type": "component",
                "linktype": "component",
                "name": "WeatherWidgetComponent",
                "coveragePercent": 63,
                "coverageCount": "19/30",
                "status": "good"
            },
            {
                "filePath": "src/stories/weather-widget/weather-widget.component.ts",
                "type": "interface",
                "linktype": "interface",
                "name": "WeatherData",
                "coveragePercent": 0,
                "coverageCount": "0/7",
                "status": "low"
            },
            {
                "filePath": "src/stories/weather-widget/weather.service.ts",
                "type": "injectable",
                "linktype": "injectable",
                "name": "WeatherService",
                "coveragePercent": 36,
                "coverageCount": "13/36",
                "status": "medium"
            }
        ]
    }
}